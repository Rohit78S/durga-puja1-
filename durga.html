<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kolkata Durga Puja Guide 2025</title>
    <link rel="manifest" href="data:application/json,{
        'name': 'Kolkata Durga Puja Guide',
        'short_name': 'Puja Guide',
        'description': 'Complete Durga Puja festival companion',
        'start_url': '/',
        'display': 'standalone',
        'background_color': '#8B0000',
        'theme_color': '#DC143C',
        'icons': [
            {
                'src': 'data:image/svg+xml,%3Csvg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\"%3E%3Ccircle cx=\"256\" cy=\"256\" r=\"256\" fill=\"%23DC143C\"/%3E%3Cpath d=\"M256 128c-70.7 0-128 57.3-128 128s57.3 128 128 128 128-57.3 128-128-57.3-128-128-128z\" fill=\"%23FFD700\"/%3E%3C/svg%3E',
                'sizes': '192x192',
                'type': 'image/svg+xml'
            }
        ]
    }">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Leaflet CSS for maps -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/leaflet.css" />
    
    <style>
        :root {
            /* Light theme colors */
            --primary-color: #8B0000;
            --secondary-color: #DC143C;
            --accent-color: #ff6b35;
            --accent-secondary: #f7931e;
            --bg-primary: linear-gradient(135deg, #fff8f0, #ffe8d6);
            --bg-secondary: #ffffff;
            --text-primary: #333333;
            --text-secondary: #666666;
            --border-color: #e0e0e0;
            --shadow: 0 5px 20px rgba(0,0,0,0.1);
            --card-bg: #ffffff;
            
            /* Cultural colors */
            --saffron: #ff9933;
            --vermillion: #e34234;
            --marigold: #ffb347;
            --gold: #ffd700;
        }

        [data-theme="dark"] {
            --primary-color: #ff6b6b;
            --secondary-color: #ff8e8e;
            --accent-color: #ffa726;
            --accent-secondary: #ffcc02;
            --bg-primary: linear-gradient(135deg, #1a1a1a, #2d2d2d);
            --bg-secondary: #2d2d2d;
            --text-primary: #ffffff;
            --text-secondary: #cccccc;
            --border-color: #444444;
            --shadow: 0 5px 20px rgba(0,0,0,0.3);
            --card-bg: #3a3a3a;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', 'Noto Sans Bengali', Tahoma, Geneva, Verdana, sans-serif;
            color: var(--text-primary);
            line-height: 1.6;
            transition: all 0.3s ease;
            background-image: url("https://i.pinimg.com/736x/fe/72/9e/fe729e96b75f9034e4a1267bd2698962.jpg");
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
            background-attachment: fixed;
        }

        /* Preloader Fullscreen Background */
        #preloader {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: #8B0000;
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 9999;
            transition: opacity 1s ease, visibility 1s ease;
        }

        /* Text Container */
        .welcome-box {
            text-align: center;
            max-width: 90%;
            padding: 20px;
        }

        /* Title (Main Greeting) */
        .puja-title {
            font-size: 3rem;
            font-weight: bold;
            color: gold;
            text-shadow: 0 0 10px #ff4500, 0 0 20px #ffd700;
            animation: glowTitle 2s infinite alternate;
            font-family: "Noto Sans Bengali", sans-serif;
        }

        /* Subtitle (Blessings) */
        .puja-subtitle {
            margin-top: 15px;
            font-size: 1.3rem;
            line-height: 1.6;
            color: #fff8dc;
            font-family: "Noto Sans Bengali", sans-serif;
            animation: fadeIn 3s ease-in-out;
        }

        /* Animations */
        @keyframes glowTitle {
            from { opacity: 0.7; text-shadow: 0 0 10px #ff6347, 0 0 20px #ffd700; }
            to   { opacity: 1; text-shadow: 0 0 25px #ffa500, 0 0 40px #ffd700; }
        }

        @keyframes fadeIn {
            0% { opacity: 0; transform: translateY(20px); }
            100% { opacity: 1; transform: translateY(0); }
        }

        /* Hide preloader */
        #preloader.hide {
            opacity: 0;
            visibility: hidden;
        }

        /* Header Styles */
        .header {
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            color: white;
            padding: 2rem 1rem 1rem;
            box-shadow: var(--shadow);
            background-image: url("https://i.pinimg.com/736x/e2/61/20/e26120bee406dfcf7be85d2bd847a47c.jpg");
            background-size: cover;
            line-height: 1.6;
            transition: all 0.3s ease;
            margin-top: -20px;
        }

        .header-top {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
            margin-top: -10px;
        }

        .logo-section {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .logo {
            width: 50px;
            height: 50px;
            background: var(--gold);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            color: var(--primary-color);
        }

        .header-controls {
            display: flex;
            gap: 1rem;
            align-items: center;
        }

        .theme-toggle, .lang-toggle, .menu-btn {
            background: rgba(255,255,255,0.2);
            border: none;
            color: white;
            padding: 0.5rem;
            border-radius: 50%;
            cursor: pointer;
            transition: all 0.3s ease;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .theme-toggle:hover, .lang-toggle:hover, .menu-btn:hover {
            background: rgba(255,255,255,0.3);
            transform: scale(1.1);
        }

        .header h1 {
            text-align: center;
            font-size: 2.2rem;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
            margin-bottom: 0.5rem;
            margin-top: -10px;
        }

        .header p {
            text-align: center;
            font-size: 1.1rem;
            opacity: 0.9;
            margin-top: -5px;
        }

        /* Navigation */
        .nav-tabs {
            display: flex;
            background: rgba(255,255,255,0.1);
            border-radius: 10px;
            margin-top: 1rem;
            overflow: hidden;
        }

        .nav-tab {
            flex: 1;
            padding: 0.8rem;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            border: none;
            background: transparent;
            color: white;
            font-weight: 500;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
        }

        .nav-tab.active, .nav-tab:hover {
            background: rgba(255,255,255,0.2);
            transform: translateY(-2px);
        }

        /* Side Menu */
        .side-menu {
            position: fixed;
            top: 0;
            right: -300px;
            width: 300px;
            height: 100vh;
            background: var(--card-bg);
            box-shadow: -5px 0 20px rgba(0,0,0,0.3);
            transition: right 0.3s ease;
            z-index: 1001;
            padding: 2rem;
        }

        .side-menu.open {
            right: 0;
        }

        .side-menu-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            background: rgba(0,0,0,0.5);
            z-index: 1000;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
        }

        .side-menu-overlay.active {
            opacity: 1;
            visibility: visible;
        }

        .menu-item {
            padding: 1rem;
            border-bottom: 1px solid var(--border-color);
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .menu-item:hover {
            background: var(--accent-color);
            color: white;
            transform: translateX(5px);
        }

        /* Weather Widget */
        .weather-widget {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: var(--card-bg);
            border-radius: 20px;
            padding: 2rem;
            box-shadow: 0 20px 40px rgba(0,0,0,0.3);
            z-index: 1002;
            min-width: 350px;
            max-width: 90vw;
            max-height: 90vh;
            overflow-y: auto;
        }

        .weather-close {
            position: absolute;
            top: 15px;
            right: 20px;
            background: none;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
            color: var(--text-primary);
            z-index: 1003;
        }

        .weather-current {
            text-align: center;
            padding: 1rem;
            background: linear-gradient(135deg, var(--accent-color), var(--accent-secondary));
            border-radius: 15px;
            color: white;
            margin-bottom: 1rem;
        }

        .weather-temp {
            font-size: 2.5rem;
            font-weight: bold;
            margin: 0.5rem 0;
        }

        .weather-desc {
            font-size: 1.1rem;
            margin-bottom: 0.5rem;
        }

        .weather-details {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 0.5rem;
            font-size: 0.9rem;
        }

        .weather-forecast {
            margin-top: 1rem;
        }

        .forecast-day {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0.8rem;
            margin: 0.5rem 0;
            background: var(--bg-secondary);
            border-radius: 10px;
            box-shadow: var(--shadow);
        }

        .forecast-day:hover {
            background: var(--accent-color);
            color: white;
            transform: translateX(5px);
        }

        /* Container */
        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 2rem;
        }

        /* Content Sections */
        .content-section {
            display: none;
            background: var(--card-bg);
            border-radius: 15px;
            box-shadow: var(--shadow);
            padding: 2rem;
            margin-bottom: 2rem;
        }

        .content-section.active {
            display: block;
            animation: fadeInContent 0.5s ease;
        }

        @keyframes fadeInContent {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .pandal-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 1.5rem;
            margin-top: 1rem;
        }

        .pandal-card {
            background: var(--card-bg);
            border-radius: 15px;
            padding: 1.5rem;
            box-shadow: var(--shadow);
            transition: all 0.3s ease;
            border: 2px solid transparent;
            position: relative;
            overflow: hidden;
        }

        .pandal-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, var(--saffron), var(--vermillion), var(--marigold), var(--gold));
        }

        .pandal-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 40px rgba(0,0,0,0.2);
            border-color: var(--accent-color);
        }

        .pandal-card.visited {
            border-color: var(--primary-color);
            background: linear-gradient(135deg, var(--card-bg), rgba(139, 0, 0, 0.05));
        }

        .pandal-card.visited::after {
            content: '‡¶Ü‡¶™‡¶®‡¶ø ‡¶™‡ßå‡¶Å‡¶õ‡ßá‡¶õ‡ßá‡¶®';
            position: absolute;
            top: 10px;
            right: 10px;
            background: var(--primary-color);
            color: white;
            padding: 0.3rem 0.6rem;
            border-radius: 15px;
            font-size: 0.7rem;
            font-weight: bold;
        }

        .crowd-indicator {
            position: absolute;
            top: 15px;
            left: 15px;
            padding: 0.3rem 0.6rem;
            border-radius: 20px;
            font-size: 0.7rem;
            font-weight: bold;
            color: white;
        }

        .crowd-low { background: #28a745; }
        .crowd-medium { background: #ffc107; color: #000; }
        .crowd-high { background: #dc3545; }

        .pandal-name {
            font-size: 1.3rem;
            font-weight: bold;
            color: var(--primary-color);
            margin-bottom: 0.5rem;
        }

        .pandal-type {
            background: linear-gradient(135deg, var(--accent-color), var(--accent-secondary));
            color: white;
            padding: 0.3rem 0.8rem;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 500;
            display: inline-block;
        }

        .pandal-details {
            margin: 1rem 0;
        }

        .detail-item {
            display: flex;
            align-items: center;
            margin: 0.5rem 0;
            font-size: 0.9rem;
        }

        .detail-icon {
            width: 20px;
            margin-right: 0.5rem;
            color: var(--accent-color);
        }

        /* Buttons */
        .btn {
            background: linear-gradient(135deg, var(--accent-color), var(--accent-secondary));
            color: white;
            border: none;
            padding: 0.5rem 1rem;
            border-radius: 25px;
            cursor: pointer;
            margin: 0.3rem 0.3rem 0.3rem 0;
            transition: all 0.3s ease;
            font-size: 0.9rem;
            font-weight: 500;
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
        }

        .btn:hover {
            transform: scale(1.05);
            box-shadow: 0 5px 15px rgba(255,107,53,0.4);
        }

        .btn.bookmarked {
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
        }

        .btn.reached {
            background: linear-gradient(135deg, #28a745, #20c997);
        }

        /* Search and Filter */
        .search-container {
            background: var(--card-bg);
            padding: 1rem;
            border-radius: 10px;
            margin-bottom: 1.5rem;
            box-shadow: var(--shadow);
        }

        .search-input {
            width: 100%;
            padding: 0.8rem;
            border: 2px solid var(--border-color);
            border-radius: 25px;
            font-size: 1rem;
            transition: border-color 0.3s ease;
            background: var(--bg-secondary);
            color: var(--text-primary);
        }

        .search-input:focus {
            outline: none;
            border-color: var(--accent-color);
        }

        .filters {
            display: flex;
            flex-wrap: wrap;
            gap: 0.5rem;
            margin-top: 1rem;
        }

        .filter-btn {
            background: var(--bg-secondary);
            border: 2px solid var(--border-color);
            padding: 0.5rem 1rem;
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
            color: var(--text-primary);
        }

        .filter-btn.active, .filter-btn:hover {
            background: linear-gradient(135deg, var(--accent-color), var(--accent-secondary));
            color: white;
            border-color: var(--accent-color);
        }

        /* Map Styles */
        #map {
            height: 500px;
            border-radius: 15px;
            box-shadow: var(--shadow);
            z-index: 1;
        }

        /* Progress Bar */
        .progress-container {
            background: var(--border-color);
            border-radius: 10px;
            height: 8px;
            margin: 1rem 0;
            overflow: hidden;
        }

        .progress-bar {
            background: linear-gradient(90deg, var(--accent-color), var(--accent-secondary));
            height: 100%;
            width: 0%;
            transition: width 0.5s ease;
        }

        /* Route Container */
        .route-container {
            background: var(--card-bg);
            border-radius: 15px;
            padding: 1.5rem;
            margin: 1rem 0;
            border-left: 5px solid var(--accent-color);
            box-shadow: var(--shadow);
        }

        /* AR Features */
        .ar-container {
            position: relative;
            background: var(--card-bg);
            border-radius: 15px;
            padding: 1.5rem;
            margin: 1rem 0;
            box-shadow: var(--shadow);
        }

        #arCamera {
            width: 100%;
            height: 300px;
            border-radius: 10px;
            background: #000;
            position: relative;
            overflow: hidden;
        }

        .ar-overlay {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            color: white;
            text-align: center;
            z-index: 2;
        }

        .ar-pointer {
            position: absolute;
            width: 60px;
            height: 60px;
            background: rgba(255, 107, 53, 0.9);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 1.5rem;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.1); }
            100% { transform: scale(1); }
        }

        /* Gamification */
        .badge-container {
            display: flex;
            flex-wrap: wrap;
            gap: 1rem;
            margin-top: 1rem;
        }

        .badge {
            background: linear-gradient(135deg, var(--gold), var(--marigold));
            color: white;
            padding: 0.5rem 1rem;
            border-radius: 25px;
            font-size: 0.8rem;
            font-weight: bold;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            box-shadow: 0 3px 10px rgba(255, 215, 0, 0.3);
        }

        .badge.locked {
            background: var(--border-color);
            color: var(--text-secondary);
        }

        /* Photo Gallery */
        .photo-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
            margin-top: 1rem;
        }

        .photo-item {
            position: relative;
            border-radius: 10px;
            overflow: hidden;
            aspect-ratio: 1;
            cursor: pointer;
            transition: transform 0.3s ease;
        }

        .photo-item:hover {
            transform: scale(1.05);
        }

        .photo-item img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        /* Food Map */
        .food-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 1rem;
            margin-top: 1rem;
        }

        .food-card {
            background: var(--card-bg);
            border-radius: 15px;
            padding: 1rem;
            box-shadow: var(--shadow);
            transition: transform 0.3s ease;
        }

        .food-card:hover {
            transform: translateY(-3px);
        }

        .food-rating {
            color: var(--gold);
            margin: 0.5rem 0;
        }

        /* Emergency Section */
        .emergency-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1rem;
        }

        .emergency-card {
            background: linear-gradient(135deg, var(--secondary-color), var(--primary-color));
            color: white;
            padding: 1.5rem;
            border-radius: 15px;
            text-align: center;
            box-shadow: var(--shadow);
            transition: all 0.3s ease;
        }

        .emergency-card:hover {
            transform: scale(1.05);
        }

        .emergency-number {
            font-size: 1.5rem;
            font-weight: bold;
            margin: 0.5rem 0;
        }

        /* Floating Action Button */
        .fab {
            position: fixed;
            bottom: 20px;
            right: 20px;
            width: 60px;
            height: 60px;
            background: linear-gradient(135deg, var(--accent-color), var(--accent-secondary));
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            box-shadow: 0 5px 20px rgba(255,107,53,0.4);
            font-size: 24px;
            color: white;
            z-index: 999;
            transition: all 0.3s ease;
            border: none;
        }

        .fab:hover {
            transform: scale(1.1);
        }

        /* SOS Button */
        .sos-button {
            position: fixed;
            bottom: 90px;
            right: 20px;
            width: 60px;
            height: 60px;
            background: linear-gradient(135deg, #dc3545, #c82333);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            box-shadow: 0 5px 20px rgba(220, 53, 69, 0.4);
            font-size: 18px;
            color: white;
            z-index: 999;
            transition: all 0.3s ease;
            border: none;
            font-weight: bold;
        }

        .sos-button:hover {
            transform: scale(1.1);
            animation: pulseButton 1s infinite;
        }

        @keyframes pulseButton {
            0% { box-shadow: 0 0 0 0 rgba(220, 53, 69, 0.7); }
            70% { box-shadow: 0 0 0 10px rgba(220, 53, 69, 0); }
            100% { box-shadow: 0 0 0 0 rgba(220, 53, 69, 0); }
        }

        /* Bengali Cultural Elements */
        .bengali-touch {
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            color: white;
            padding: 2rem;
            border-radius: 15px;
            text-align: center;
            margin: 2rem 0;
            box-shadow: var(--shadow);
            position: relative;
            overflow: hidden;
        }

        .bengali-touch::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><text y="50" font-size="40" opacity="0.1">üïâÔ∏è</text></svg>') repeat;
            background-size: 50px 50px;
        }

        .bengali-touch h2 {
            font-size: 2rem;
            margin-bottom: 1rem;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
            position: relative;
            z-index: 1;
        }

        /* Modal Styles */
        .modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.8);
            z-index: 2000;
            display: none;
            align-items: center;
            justify-content: center;
            padding: 1rem;
        }

        .modal.active {
            display: flex;
        }

        .modal-content {
            background: var(--card-bg);
            border-radius: 15px;
            padding: 2rem;
            max-width: 90vw;
            max-height: 90vh;
            overflow-y: auto;
            position: relative;
        }

        .modal-close {
            position: absolute;
            top: 15px;
            right: 20px;
            background: none;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
            color: var(--text-primary);
        }

        /* Alerts */
        .alert {
            background: rgba(255, 193, 7, 0.1);
            border: 2px solid var(--marigold);
            border-radius: 10px;
            padding: 1rem;
            margin: 1rem 0;
        }

        /* Footer Style */
        .site-footer {
            text-align: center;
            padding: 15px;
            background: #8B0000;
            color: #fff8dc;
            font-family: "Segoe UI", sans-serif;
            font-size: 1rem;
            margin-top: 20px;
            box-shadow: 0 -2px 10px rgba(0,0,0,0.2);
        }

        .site-footer p {
            margin: 0;
            animation: fadeInUp 2s ease-in-out;
        }

        /* Highlight "Rohit" */
        .site-footer .rohit {
            color: gold;
            font-weight: bold;
            text-shadow: 0 0 5px #ff6347, 0 0 15px #ffd700;
            animation: glowText 2s infinite alternate;
        }

        /* Text glow */
        @keyframes glowText {
            from { text-shadow: 0 0 5px #ff4500, 0 0 10px #ffd700; }
            to   { text-shadow: 0 0 20px #ffa500, 0 0 30px #ffd700; }
        }

        /* Footer fade-in */
        @keyframes fadeInUp {
            from { opacity: 0; transform: translateY(20px); }
            to   { opacity: 1; transform: translateY(0); }
        }

        /* Toast Notifications */
        .toast {
            position: fixed;
            top: 100px;
            right: 20px;
            background: linear-gradient(135deg, #28a745, #20c997);
            color: white;
            padding: 12px 20px;
            border-radius: 25px;
            box-shadow: 0 5px 20px rgba(40,167,69,0.4);
            z-index: 1002;
            font-weight: 500;
            transform: translateX(100%);
            transition: transform 0.3s ease;
        }

        .toast.show {
            transform: translateX(0);
        }

        /* Loading Animation */
        .loading {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid rgba(255,255,255,.3);
            border-radius: 50%;
            border-top-color: #fff;
            animation: spin 1s ease-in-out infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        /* Cultural patterns */
        .pattern-bg {
            background-image: 
                radial-gradient(circle at 20% 50%, rgba(255, 153, 51, 0.1) 2px, transparent 2px),
                radial-gradient(circle at 80% 50%, rgba(220, 20, 60, 0.1) 2px, transparent 2px);
            background-size: 30px 30px;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .container {
                padding: 1rem;
            }
            
            .nav-tabs {
                flex-direction: column;
            }
            
            .pandal-grid {
                grid-template-columns: 1fr;
            }
            
            .header h1 {
                font-size: 1.8rem;
            }

            .header-top {
                flex-direction: column;
                gap: 1rem;
            }

            .side-menu {
                width: 280px;
                right: -280px;
            }

            .weather-widget {
                min-width: 300px;
                padding: 1.5rem;
            }
        }
    </style>
</head>
<body data-theme="light" class="pattern-bg">
    <!-- Side Menu Overlay -->
    <div class="side-menu-overlay" id="sideMenuOverlay"></div>
    
    <!-- Side Menu -->
    <div class="side-menu" id="sideMenu">
        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 2rem;">
            <h3 data-en="Menu" data-bn="‡¶Æ‡ßá‡¶®‡ßÅ">Menu</h3>
            <button onclick="toggleSideMenu()" style="background: none; border: none; font-size: 1.5rem; cursor: pointer; color: var(--text-primary);">√ó</button>
        </div>
        <div class="menu-item" onclick="showBookmarks()">
            <i class="fas fa-heart"></i>
            <span data-en="Bookmarked Pandals" data-bn="‡¶™‡¶õ‡¶®‡ßç‡¶¶‡ßá‡¶∞ ‡¶™‡¶£‡ßç‡¶°‡ßá‡¶≤">Bookmarked Pandals</span>
        </div>
        <div class="menu-item" onclick="showMyRoute()">
            <i class="fas fa-route"></i>
            <span data-en="My Route" data-bn="‡¶Ü‡¶Æ‡¶æ‡¶∞ ‡¶∞‡ßÅ‡¶ü">My Route</span>
        </div>
        <div class="menu-item" onclick="showAR()">
            <i class="fas fa-camera"></i>
            <span data-en="AR Pandal Finder" data-bn="‡¶è‡¶Ü‡¶∞ ‡¶™‡¶£‡ßç‡¶°‡ßá‡¶≤ ‡¶ñ‡ßÅ‡¶Å‡¶ú‡ßÅ‡¶®">AR Pandal Finder</span>
        </div>
        <div class="menu-item" onclick="showThemeArchive()">
            <i class="fas fa-history"></i>
            <span data-en="Theme Archive" data-bn="‡¶•‡¶ø‡¶Æ ‡¶Ü‡¶∞‡ßç‡¶ï‡¶æ‡¶á‡¶≠">Theme Archive</span>
        </div>
        <div class="menu-item" onclick="showSelfieWall()">
            <i class="fas fa-camera-retro"></i>
            <span data-en="Selfie Wall" data-bn="‡¶∏‡ßá‡¶≤‡¶´‡¶ø ‡¶ì‡¶Ø‡¶º‡¶æ‡¶≤">Selfie Wall</span>
        </div>
        <div class="menu-item" onclick="showBadges()">
            <i class="fas fa-trophy"></i>
            <span data-en="My Badges" data-bn="‡¶Ü‡¶Æ‡¶æ‡¶∞ ‡¶¨‡ßç‡¶Ø‡¶æ‡¶ú">My Badges</span>
        </div>
        <div class="menu-item" onclick="showWeatherInfo()">
            <i class="fas fa-cloud-sun"></i>
            <span data-en="Weather & Forecast" data-bn="‡¶Ü‡¶¨‡¶π‡¶æ‡¶ì‡¶Ø‡¶º‡¶æ ‡¶ì ‡¶™‡ßÇ‡¶∞‡ßç‡¶¨‡¶æ‡¶≠‡¶æ‡¶∏">Weather & Forecast</span>
        </div>
        <div class="menu-item" onclick="clearAllData()">
            <i class="fas fa-trash"></i>
            <span data-en="Clear All Data" data-bn="‡¶∏‡¶¨ ‡¶°‡ßá‡¶ü‡¶æ ‡¶Æ‡ßÅ‡¶õ‡ßá ‡¶´‡ßá‡¶≤‡ßÅ‡¶®">Clear All Data</span>
        </div>
        <div class="menu-item" onclick="shareApp()">
            <i class="fas fa-share"></i>
            <span data-en="Share App" data-bn="‡¶Ö‡ßç‡¶Ø‡¶æ‡¶™ ‡¶∂‡ßá‡¶Ø‡¶º‡¶æ‡¶∞ ‡¶ï‡¶∞‡ßÅ‡¶®">Share App</span>
        </div>
    </div>

    <!-- Preloader -->
    <div id="preloader">
        <div class="welcome-box">
            <h1 class="puja-title">‡¶∂‡ßÅ‡¶≠ ‡¶¶‡ßÅ‡¶∞‡ßç‡¶ó‡¶æ‡¶™‡ßÇ‡¶ú‡¶æ</h1>
            <p class="puja-subtitle">
                ‡¶∂‡¶æ‡¶∞‡¶¶‡ßÄ‡¶Ø‡¶º‡¶æ ‡¶¶‡ßÅ‡¶∞‡ßç‡¶ó‡¶æ‡¶™‡ßÇ‡¶ú‡¶æ‡¶Ø‡¶º ‡¶Ü‡¶™‡¶®‡¶æ‡¶ï‡ßá ‡¶ì ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶™‡¶∞‡¶ø‡¶¨‡¶æ‡¶∞‡¶ï‡ßá ‡¶ú‡¶æ‡¶®‡¶æ‡¶á ‡¶Ü‡¶®‡ßç‡¶§‡¶∞‡¶ø‡¶ï ‡¶∂‡ßÅ‡¶≠‡ßá‡¶ö‡ßç‡¶õ‡¶æ ‡¶ì ‡¶Ö‡¶≠‡¶ø‡¶®‡¶®‡ßç‡¶¶‡¶®
            </p>
        </div>
    </div>

    <!-- Header -->
    <div class="header">
        <div class="header-top">
            <div class="logo-section">
                <div class="logo">üïâÔ∏è</div>
                <div>
                    <h1 data-en="Kolkata Durga Puja Guide 2025" data-bn="‡¶ï‡¶≤‡¶ï‡¶æ‡¶§‡¶æ ‡¶¶‡ßÅ‡¶∞‡ßç‡¶ó‡¶æ‡¶™‡ßÇ‡¶ú‡¶æ ‡¶ó‡¶æ‡¶á‡¶° ‡ß®‡ß¶‡ß®‡ß´">Kolkata Durga Puja Guide 2025</h1>
                    <p data-en="‡¶∂‡ßÅ‡¶≠ ‡¶¶‡ßÅ‡¶∞‡ßç‡¶ó‡ßã‡ßé‡¶∏‡¶¨ | North Kolkata Heritage Route" data-bn="‡¶∂‡ßÅ‡¶≠ ‡¶¶‡ßÅ‡¶∞‡ßç‡¶ó‡ßã‡ßé‡¶∏‡¶¨ | ‡¶â‡¶§‡ßç‡¶§‡¶∞ ‡¶ï‡¶≤‡¶ï‡¶æ‡¶§‡¶æ ‡¶ê‡¶§‡¶ø‡¶π‡ßç‡¶Ø ‡¶∞‡ßÅ‡¶ü">‡¶∂‡ßÅ‡¶≠ ‡¶¶‡ßÅ‡¶∞‡ßç‡¶ó‡ßã‡ßé‡¶∏‡¶¨ | North Kolkata Heritage Route</p>
                </div>
            </div>
            <div class="header-controls">
                <button class="theme-toggle" onclick="toggleTheme()" title="Toggle Theme">
                    <i class="fas fa-moon" id="themeIcon"></i>
                </button>
                <button class="lang-toggle" onclick="toggleLanguage()" title="Change Language">
                    <span id="langText">‡¶¨‡¶æ‡¶Ç</span>
                </button>
                <button class="menu-btn" onclick="toggleSideMenu()" title="Menu">
                    <i class="fas fa-bars"></i>
                </button>
            </div>
        </div>
        
        <div class="nav-tabs">
            <button class="nav-tab active" onclick="showSection('pandals')">
                <i class="fas fa-building"></i>
                <span data-en="Pandals" data-bn="‡¶™‡¶£‡ßç‡¶°‡ßá‡¶≤">Pandals</span>
            </button>
            <button class="nav-tab" onclick="showSection('map')">
                <i class="fas fa-map"></i>
                <span data-en="Map & Route" data-bn="‡¶Æ‡¶æ‡¶®‡¶ö‡¶ø‡¶§‡ßç‡¶∞ ‡¶ì ‡¶∞‡ßÅ‡¶ü">Map & Route</span>
            </button>
            <button class="nav-tab" onclick="showSection('emergency')">
                <i class="fas fa-shield-alt"></i>
                <span data-en="Safety" data-bn="‡¶®‡¶ø‡¶∞‡¶æ‡¶™‡¶§‡ßç‡¶§‡¶æ">Safety</span>
            </button>
            <button class="nav-tab" onclick="showSection('food')">
                <i class="fas fa-utensils"></i>
                <span data-en="Food & Culture" data-bn="‡¶ñ‡¶æ‡¶¨‡¶æ‡¶∞ ‡¶ì ‡¶∏‡¶Ç‡¶∏‡ßç‡¶ï‡ßÉ‡¶§‡¶ø">Food & Culture</span>
            </button>
        </div>
    </div>

    <div class="container">
        <!-- Pandals Section -->
        <div id="pandals" class="content-section active">
            <div class="search-container">
                <input type="text" class="search-input" data-placeholder-en="Search pandals by name, area, or theme..." data-placeholder-bn="‡¶®‡¶æ‡¶Æ, ‡¶è‡¶≤‡¶æ‡¶ï‡¶æ ‡¶¨‡¶æ ‡¶•‡¶ø‡¶Æ ‡¶¶‡¶ø‡¶Ø‡¶º‡ßá ‡¶™‡¶£‡ßç‡¶°‡ßá‡¶≤ ‡¶ñ‡ßÅ‡¶Å‡¶ú‡ßÅ‡¶®..." placeholder="Search pandals by name, area, or theme..." id="searchInput">
                <div class="filters">
                    <button class="filter-btn active" onclick="filterPandals('all')" data-en="All" data-bn="‡¶∏‡¶¨">All</button>
                    <button class="filter-btn" onclick="filterPandals('heritage')" data-en="Heritage" data-bn="‡¶ê‡¶§‡¶ø‡¶π‡ßç‡¶Ø">Heritage</button>
                    <button class="filter-btn" onclick="filterPandals('theme')" data-en="Theme" data-bn="‡¶•‡¶ø‡¶Æ">Theme</button>
                    <button class="filter-btn" onclick="filterPandals('community')" data-en="Community" data-bn="‡¶ï‡¶Æ‡¶ø‡¶â‡¶®‡¶ø‡¶ü‡¶ø">Community</button>
                    <button class="filter-btn" onclick="filterPandals('accessible')" data-en="Wheelchair Accessible" data-bn="‡¶π‡ßÅ‡¶á‡¶≤‡¶ö‡ßá‡¶Ø‡¶º‡¶æ‡¶∞ ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞‡¶Ø‡ßã‡¶ó‡ßç‡¶Ø">Wheelchair Accessible</button>
                </div>
            </div>

            <!-- Route Progress -->
            <div class="route-container">
                <h3 data-en="Your Route Progress" data-bn="‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶∞‡ßÅ‡¶ü ‡¶Ö‡¶ó‡ßç‡¶∞‡¶ó‡¶§‡¶ø">Your Route Progress</h3>
                <div class="progress-container">
                    <div class="progress-bar" id="routeProgressBar"></div>
                </div>
                <div class="progress-text" id="progressText">0% Complete</div>
            </div>

            <div class="pandal-grid" id="pandalGrid">
                <!-- Sample Pandal Cards -->
                <div class="pandal-card">
                    <div class="crowd-indicator crowd-medium">Medium</div>
                    <div class="pandal-name">Tala Barowari</div>
                    <div class="pandal-type">Heritage</div>
                    <div class="pandal-details">
                        <div class="detail-item">
                            <span class="detail-icon">üìç</span>
                            <span>Tala, North 24 Parganas</span>
                        </div>
                        <div class="detail-item">
                            <span class="detail-icon">üé≠</span>
                            <span>Traditional Bengali Architecture</span>
                        </div>
                        <div class="detail-item">
                            <span class="detail-icon">‚è∞</span>
                            <span>6 AM - 11 PM</span>
                        </div>
                        <div class="detail-item">
                            <span class="detail-icon">üöá</span>
                            <span>2.5 km from Dum Dum Metro</span>
                        </div>
                    </div>
                    <div>
                        <button class="btn">
                            <i class="fas fa-heart"></i>
                            Bookmark
                        </button>
                        <button class="btn">
                            <i class="fas fa-directions"></i>
                            Directions
                        </button>
                        <button class="btn">
                            <i class="fas fa-check"></i>
                            Mark Visited
                        </button>
                    </div>
                </div>

                <div class="pandal-card">
                    <div class="crowd-indicator crowd-high">High</div>
                    <div class="pandal-name">Shyambazar Rajbari</div>
                    <div class="pandal-type">Heritage</div>
                    <div class="pandal-details">
                        <div class="detail-item">
                            <span class="detail-icon">üìç</span>
                            <span>Shyambazar Street</span>
                        </div>
                        <div class="detail-item">
                            <span class="detail-icon">üé≠</span>
                            <span>Royal Palace Theme</span>
                        </div>
                        <div class="detail-item">
                            <span class="detail-icon">‚è∞</span>
                            <span>6 AM - 12 AM</span>
                        </div>
                        <div class="detail-item">
                            <span class="detail-icon">üöá</span>
                            <span>500m from Shyambazar Metro</span>
                        </div>
                    </div>
                    <div>
                        <button class="btn">
                            <i class="fas fa-heart"></i>
                            Bookmark
                        </button>
                        <button class="btn">
                            <i class="fas fa-directions"></i>
                            Directions
                        </button>
                        <button class="btn">
                            <i class="fas fa-check"></i>
                            Mark Visited
                        </button>
                    </div>
                </div>

                <div class="pandal-card">
                    <div class="crowd-indicator crowd-low">Low</div>
                    <div class="pandal-name">Kumartuli Park</div>
                    <div class="pandal-type">Traditional</div>
                    <div class="pandal-details">
                        <div class="detail-item">
                            <span class="detail-icon">üìç</span>
                            <span>Kumartuli, Sovabazar</span>
                        </div>
                        <div class="detail-item">
                            <span class="detail-icon">üé≠</span>
                            <span>Artisan's Quarter Theme</span>
                        </div>
                        <div class="detail-item">
                            <span class="detail-icon">‚è∞</span>
                            <span>5 AM - 11 PM</span>
                        </div>
                        <div class="detail-item">
                            <span class="detail-icon">üöá</span>
                            <span>1 km from Sovabazar Metro</span>
                        </div>
                    </div>
                    <div>
                        <button class="btn">
                            <i class="fas fa-heart"></i>
                            Bookmark
                        </button>
                        <button class="btn">
                            <i class="fas fa-directions"></i>
                            Directions
                        </button>
                        <button class="btn">
                            <i class="fas fa-check"></i>
                            Mark Visited
                        </button>
                    </div>
                </div>

                <div class="pandal-card">
                    <div class="crowd-indicator crowd-medium">Medium</div>
                    <div class="pandal-name">Santosh Mitra Square</div>
                    <div class="pandal-type">Theme</div>
                    <div class="pandal-details">
                        <div class="detail-item">
                            <span class="detail-icon">üìç</span>
                            <span>Central Kolkata</span>
                        </div>
                        <div class="detail-item">
                            <span class="detail-icon">üé≠</span>
                            <span>Modern Art Installation</span>
                        </div>
                        <div class="detail-item">
                            <span class="detail-icon">‚è∞</span>
                            <span>6 AM - 12 AM</span>
                        </div>
                        <div class="detail-item">
                            <span class="detail-icon">‚ôø</span>
                            <span>Wheelchair Accessible</span>
                        </div>
                    </div>
                    <div>
                        <button class="btn">
                            <i class="fas fa-heart"></i>
                            Bookmark
                        </button>
                        <button class="btn">
                            <i class="fas fa-directions"></i>
                            Directions
                        </button>
                        <button class="btn">
                            <i class="fas fa-check"></i>
                            Mark Visited
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Map Section -->
        <div id="map" class="content-section">
            <h2 data-en="üó∫Ô∏è North Kolkata Heritage Route Map" data-bn="üó∫Ô∏è ‡¶â‡¶§‡ßç‡¶§‡¶∞ ‡¶ï‡¶≤‡¶ï‡¶æ‡¶§‡¶æ ‡¶ê‡¶§‡¶ø‡¶π‡ßç‡¶Ø ‡¶∞‡ßÅ‡¶ü ‡¶Æ‡¶æ‡¶®‡¶ö‡¶ø‡¶§‡ßç‡¶∞">üó∫Ô∏è North Kolkata Heritage Route Map</h2>
            
            <div class="route-container">
                <h3 data-en="üìç Suggested Route: Tala to Santosh Mitra Square" data-bn="üìç ‡¶™‡ßç‡¶∞‡¶∏‡ßç‡¶§‡¶æ‡¶¨‡¶ø‡¶§ ‡¶∞‡ßÅ‡¶ü: ‡¶§‡¶æ‡¶≤‡¶æ ‡¶•‡ßá‡¶ï‡ßá ‡¶∏‡¶®‡ßç‡¶§‡ßã‡¶∑ ‡¶Æ‡¶ø‡¶§‡ßç‡¶∞ ‡¶∏‡ßç‡¶ï‡ßã‡¶Ø‡¶º‡¶æ‡¶∞">üìç Suggested Route: Tala to Santosh Mitra Square</h3>
                <p>
                    <strong data-en="Total Distance:" data-bn="‡¶Æ‡ßã‡¶ü ‡¶¶‡ßÇ‡¶∞‡¶§‡ßç‡¶¨:">Total Distance:</strong> ~12 km | 
                    <strong data-en="Time:" data-bn="‡¶∏‡¶Æ‡¶Ø‡¶º:">Time:</strong> 6-8 hours | 
                    <strong data-en="Best Time:" data-bn="‡¶∏‡ßá‡¶∞‡¶æ ‡¶∏‡¶Æ‡¶Ø‡¶º:">Best Time:</strong> Evening (4 PM - 11 PM)
                </p>
                
                <div class="route-controls" style="margin: 1rem 0; text-align: center;">
                    <button class="btn" onclick="startRouteNavigation()">
                        <i class="fas fa-play"></i>
                        <span data-en="Start Navigation" data-bn="‡¶®‡ßá‡¶≠‡¶ø‡¶ó‡ßá‡¶∂‡¶® ‡¶∂‡ßÅ‡¶∞‡ßÅ ‡¶ï‡¶∞‡ßÅ‡¶®">Start Navigation</span>
                    </button>
                    <button class="btn" onclick="getCurrentLocation()">
                        <i class="fas fa-crosshairs"></i>
                        <span data-en="My Location" data-bn="‡¶Ü‡¶Æ‡¶æ‡¶∞ ‡¶Ö‡¶¨‡¶∏‡ßç‡¶•‡¶æ‡¶®">My Location</span>
                    </button>
                    <button class="btn" onclick="optimizeRoute()">
                        <i class="fas fa-route"></i>
                        <span data-en="Optimize Route" data-bn="‡¶∞‡ßÅ‡¶ü ‡¶Ö‡¶™‡ßç‡¶ü‡¶ø‡¶Æ‡¶æ‡¶á‡¶ú ‡¶ï‡¶∞‡ßÅ‡¶®">Optimize Route</span>
                    </button>
                </div>
            </div>
            
            <div id="mapContainer" style="height: 500px; border-radius: 15px; box-shadow: var(--shadow); background: #f0f0f0; display: flex; align-items: center; justify-content: center; color: var(--text-secondary);">
                <div style="text-align: center;">
                    <i class="fas fa-map" style="font-size: 3rem; margin-bottom: 1rem;"></i>
                    <p>Interactive Map Loading...</p>
                </div>
            </div>
            
            <div class="route-container">
                <h3 data-en="üö¶ Live Traffic & Road Updates" data-bn="üö¶ ‡¶≤‡¶æ‡¶á‡¶≠ ‡¶ü‡ßç‡¶∞‡¶æ‡¶´‡¶ø‡¶ï ‡¶ì ‡¶∞‡¶æ‡¶∏‡ßç‡¶§‡¶æ‡¶∞ ‡¶Ü‡¶™‡¶°‡ßá‡¶ü">üö¶ Live Traffic & Road Updates</h3>
                <div class="alert">
                    <strong data-en="‚ö†Ô∏è Traffic Alert:" data-bn="‚ö†Ô∏è ‡¶ü‡ßç‡¶∞‡¶æ‡¶´‡¶ø‡¶ï ‡¶∏‡¶§‡¶∞‡ßç‡¶ï‡¶§‡¶æ:">‚ö†Ô∏è Traffic Alert:</strong> 
                    <span data-en="Heavy congestion expected on Amherst Street (6 PM - 10 PM)" data-bn="‡¶Ö‡ßç‡¶Ø‡¶æ‡¶Æ‡¶π‡¶æ‡¶∞‡ßç‡¶∏‡ßç‡¶ü ‡¶∏‡ßç‡¶ü‡ßç‡¶∞‡¶ø‡¶ü‡ßá ‡¶≠‡¶æ‡¶∞‡ßÄ ‡¶Ø‡¶æ‡¶®‡¶ú‡¶ü ‡¶™‡ßç‡¶∞‡¶§‡ßç‡¶Ø‡¶æ‡¶∂‡¶ø‡¶§ (‡¶∏‡¶®‡ßç‡¶ß‡ßç‡¶Ø‡¶æ ‡ß¨‡¶ü‡¶æ - ‡¶∞‡¶æ‡¶§ ‡ßß‡ß¶‡¶ü‡¶æ)">Heavy congestion expected on Amherst Street (6 PM - 10 PM)</span>
                </div>
                <div class="alert">
                    <strong data-en="üöß Road Closure:" data-bn="üöß ‡¶∞‡¶æ‡¶∏‡ßç‡¶§‡¶æ ‡¶¨‡¶®‡ßç‡¶ß:">üöß Road Closure:</strong> 
                    <span data-en="College Street partially closed near Manicktolla" data-bn="‡¶Æ‡¶æ‡¶®‡¶ø‡¶ï‡¶§‡¶≤‡¶æ‡¶∞ ‡¶ï‡¶æ‡¶õ‡ßá ‡¶ï‡¶≤‡ßá‡¶ú ‡¶∏‡ßç‡¶ü‡ßç‡¶∞‡¶ø‡¶ü ‡¶Ü‡¶Ç‡¶∂‡¶ø‡¶ï‡¶≠‡¶æ‡¶¨‡ßá ‡¶¨‡¶®‡ßç‡¶ß">College Street partially closed near Manicktolla</span>
                </div>
            </div>
        </div>

        <!-- Emergency Section -->
        <div id="emergency" class="content-section">
            <h2 data-en="üö® Emergency & Safety Information" data-bn="üö® ‡¶ú‡¶∞‡ßÅ‡¶∞‡¶ø ‡¶ì ‡¶®‡¶ø‡¶∞‡¶æ‡¶™‡¶§‡ßç‡¶§‡¶æ ‡¶§‡¶•‡ßç‡¶Ø">üö® Emergency & Safety Information</h2>
            
            <div class="emergency-grid">
                <div class="emergency-card">
                    <h3 data-en="üöì Police" data-bn="üöì ‡¶™‡ßÅ‡¶≤‡¶ø‡¶∂">üöì Police</h3>
                    <div class="emergency-number">100</div>
                    <p data-en="24/7 Emergency Helpline" data-bn="‡ß®‡ß™/‡ß≠ ‡¶ú‡¶∞‡ßÅ‡¶∞‡¶ø ‡¶π‡ßá‡¶≤‡ßç‡¶™‡¶≤‡¶æ‡¶á‡¶®">24/7 Emergency Helpline</p>
                </div>
                <div class="emergency-card">
                    <h3 data-en="üöë Ambulance" data-bn="üöë ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶Æ‡ßç‡¶¨‡ßÅ‡¶≤‡ßá‡¶®‡ßç‡¶∏">üöë Ambulance</h3>
                    <div class="emergency-number">102</div>
                    <p data-en="Medical Emergency" data-bn="‡¶ö‡¶ø‡¶ï‡¶ø‡ßé‡¶∏‡¶æ ‡¶ú‡¶∞‡ßÅ‡¶∞‡¶ø">Medical Emergency</p>
                </div>
                <div class="emergency-card">
                    <h3 data-en="üöí Fire" data-bn="üöí ‡¶´‡¶æ‡¶Ø‡¶º‡¶æ‡¶∞">üöí Fire</h3>
                    <div class="emergency-number">101</div>
                    <p data-en="Fire Emergency" data-bn="‡¶Ö‡¶ó‡ßç‡¶®‡¶ø‡¶ï‡¶æ‡¶£‡ßç‡¶° ‡¶ú‡¶∞‡ßÅ‡¶∞‡¶ø">Fire Emergency</p>
                </div>
                <div class="emergency-card">
                    <h3 data-en="üè• Medical" data-bn="üè• ‡¶ö‡¶ø‡¶ï‡¶ø‡ßé‡¶∏‡¶æ">üè• Medical</h3>
                    <div class="emergency-number">033-2286-1744</div>
                    <p data-en="SSKM Hospital" data-bn="‡¶è‡¶∏‡¶è‡¶∏‡¶ï‡ßá‡¶è‡¶Æ ‡¶π‡¶æ‡¶∏‡¶™‡¶æ‡¶§‡¶æ‡¶≤">SSKM Hospital</p>
                </div>
            </div>

            <div class="route-container">
                <h3 data-en="üè• Medical Facilities on Route" data-bn="üè• ‡¶∞‡ßÅ‡¶ü‡ßá ‡¶ö‡¶ø‡¶ï‡¶ø‡ßé‡¶∏‡¶æ ‡¶∏‡ßÅ‡¶¨‡¶ø‡¶ß‡¶æ">üè• Medical Facilities on Route</h3>
                <div class="emergency-grid">
                    <div class="emergency-card" style="background: linear-gradient(135deg, #28a745, #20c997);">
                        <h4 data-en="Near Tala" data-bn="‡¶§‡¶æ‡¶≤‡¶æ‡¶∞ ‡¶ï‡¶æ‡¶õ‡ßá">Near Tala</h4>
                        <p data-en="Tala Hospital<br>üìç Tala, North 24 Parganas" data-bn="‡¶§‡¶æ‡¶≤‡¶æ ‡¶π‡¶æ‡¶∏‡¶™‡¶æ‡¶§‡¶æ‡¶≤<br>üìç ‡¶§‡¶æ‡¶≤‡¶æ, ‡¶â‡¶§‡ßç‡¶§‡¶∞ ‡ß®‡ß™ ‡¶™‡¶∞‡¶ó‡¶®‡¶æ">Tala Hospital<br>üìç Tala, North 24 Parganas</p>
                    </div>
                    <div class="emergency-card" style="background: linear-gradient(135deg, #28a745, #20c997);">
                        <h4 data-en="Shyambazar Area" data-bn="‡¶∂‡ßç‡¶Ø‡¶æ‡¶Æ‡¶¨‡¶æ‡¶ú‡¶æ‡¶∞ ‡¶è‡¶≤‡¶æ‡¶ï‡¶æ">Shyambazar Area</h4>
                        <p data-en="R.G. Kar Medical College<br>üìç Belgachia" data-bn="‡¶Ü‡¶∞.‡¶ú‡¶ø. ‡¶ï‡¶∞ ‡¶Æ‡ßá‡¶°‡¶ø‡¶ï‡ßç‡¶Ø‡¶æ‡¶≤ ‡¶ï‡¶≤‡ßá‡¶ú<br>üìç ‡¶¨‡ßá‡¶≤‡¶ó‡¶æ‡¶õ‡¶ø‡¶Ø‡¶º‡¶æ">R.G. Kar Medical College<br>üìç Belgachia</p>
                    </div>
                    <div class="emergency-card" style="background: linear-gradient(135deg, #28a745, #20c997);">
                        <h4 data-en="Central Kolkata" data-bn="‡¶Æ‡¶ß‡ßç‡¶Ø ‡¶ï‡¶≤‡¶ï‡¶æ‡¶§‡¶æ">Central Kolkata</h4>
                        <p data-en="Medical College Hospital<br>üìç College Street" data-bn="‡¶Æ‡ßá‡¶°‡¶ø‡¶ï‡ßç‡¶Ø‡¶æ‡¶≤ ‡¶ï‡¶≤‡ßá‡¶ú ‡¶π‡¶æ‡¶∏‡¶™‡¶æ‡¶§‡¶æ‡¶≤<br>üìç ‡¶ï‡¶≤‡ßá‡¶ú ‡¶∏‡ßç‡¶ü‡ßç‡¶∞‡¶ø‡¶ü">Medical College Hospital<br>üìç College Street</p>
                    </div>
                </div>
            </div>

            <!-- Safety Guidelines -->
            <div class="route-container">
                <h3 data-en="üõ°Ô∏è Safety Guidelines" data-bn="üõ°Ô∏è ‡¶®‡¶ø‡¶∞‡¶æ‡¶™‡¶§‡ßç‡¶§‡¶æ ‡¶®‡¶ø‡¶∞‡ßç‡¶¶‡ßá‡¶∂‡¶ø‡¶ï‡¶æ">üõ°Ô∏è Safety Guidelines</h3>
                <div class="detail-item">
                    <span class="detail-icon">üë•</span>
                    <span data-en="Stay with your group and avoid getting separated in crowds" data-bn="‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶¶‡¶≤‡ßá‡¶∞ ‡¶∏‡¶æ‡¶•‡ßá ‡¶•‡¶æ‡¶ï‡ßÅ‡¶® ‡¶è‡¶¨‡¶Ç ‡¶≠‡¶ø‡¶°‡¶º‡ßá ‡¶Ü‡¶≤‡¶æ‡¶¶‡¶æ ‡¶π‡¶Ø‡¶º‡ßá ‡¶Ø‡¶æ‡¶ì‡¶Ø‡¶º‡¶æ ‡¶è‡¶°‡¶º‡¶ø‡¶Ø‡¶º‡ßá ‡¶ö‡¶≤‡ßÅ‡¶®">Stay with your group and avoid getting separated in crowds</span>
                </div>
                <div class="detail-item">
                    <span class="detail-icon">üíß</span>
                    <span data-en="Stay hydrated and carry water bottles" data-bn="‡¶π‡¶æ‡¶á‡¶°‡ßç‡¶∞‡ßá‡¶ü‡ßá‡¶° ‡¶•‡¶æ‡¶ï‡ßÅ‡¶® ‡¶è‡¶¨‡¶Ç ‡¶™‡¶æ‡¶®‡¶ø‡¶∞ ‡¶¨‡ßã‡¶§‡¶≤ ‡¶®‡¶ø‡¶Ø‡¶º‡ßá ‡¶ö‡¶≤‡ßÅ‡¶®">Stay hydrated and carry water bottles</span>
                </div>
                <div class="detail-item">
                    <span class="detail-icon">üì±</span>
                    <span data-en="Keep your phone charged and share your location with family" data-bn="‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶´‡ßã‡¶® ‡¶ö‡¶æ‡¶∞‡ßç‡¶ú ‡¶∞‡¶æ‡¶ñ‡ßÅ‡¶® ‡¶è‡¶¨‡¶Ç ‡¶™‡¶∞‡¶ø‡¶¨‡¶æ‡¶∞‡ßá‡¶∞ ‡¶∏‡¶æ‡¶•‡ßá ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶Ö‡¶¨‡¶∏‡ßç‡¶•‡¶æ‡¶® ‡¶∂‡ßá‡¶Ø‡¶º‡¶æ‡¶∞ ‡¶ï‡¶∞‡ßÅ‡¶®">Keep your phone charged and share your location with family</span>
                </div>
                <div class="detail-item">
                    <span class="detail-icon">üëú</span>
                    <span data-en="Keep valuables secure and avoid displaying expensive items" data-bn="‡¶Æ‡ßÇ‡¶≤‡ßç‡¶Ø‡¶¨‡¶æ‡¶® ‡¶ú‡¶ø‡¶®‡¶ø‡¶∏‡¶ó‡ßÅ‡¶≤‡¶ø ‡¶®‡¶ø‡¶∞‡¶æ‡¶™‡¶¶‡ßá ‡¶∞‡¶æ‡¶ñ‡ßÅ‡¶® ‡¶è‡¶¨‡¶Ç ‡¶¶‡¶æ‡¶Æ‡¶ø ‡¶ú‡¶ø‡¶®‡¶ø‡¶∏ ‡¶™‡ßç‡¶∞‡¶¶‡¶∞‡ßç‡¶∂‡¶® ‡¶è‡¶°‡¶º‡¶ø‡¶Ø‡¶º‡ßá ‡¶ö‡¶≤‡ßÅ‡¶®">Keep valuables secure and avoid displaying expensive items</span>
                </div>
            </div>
        </div>

        <!-- Food & Culture Section -->
        <div id="food" class="content-section">
            <h2 data-en="üç¥ Food & Culture Guide" data-bn="üç¥ ‡¶ñ‡¶æ‡¶¶‡ßç‡¶Ø ‡¶ì ‡¶∏‡¶Ç‡¶∏‡ßç‡¶ï‡ßÉ‡¶§‡¶ø ‡¶ó‡¶æ‡¶á‡¶°">üç¥ Food & Culture Guide</h2>
            
            <div class="search-container">
                <input type="text" class="search-input" placeholder="Search food items..." id="foodSearchInput">
                <div class="filters">
                    <button class="filter-btn active" onclick="filterFood('all')" data-en="All Food" data-bn="‡¶∏‡¶¨ ‡¶ñ‡¶æ‡¶¨‡¶æ‡¶∞">All Food</button>
                    <button class="filter-btn" onclick="filterFood('street')" data-en="Street Food" data-bn="‡¶∞‡¶æ‡¶∏‡ßç‡¶§‡¶æ‡¶∞ ‡¶ñ‡¶æ‡¶¨‡¶æ‡¶∞">Street Food</button>
                    <button class="filter-btn" onclick="filterFood('sweets')" data-en="Sweets" data-bn="‡¶Æ‡¶ø‡¶∑‡ßç‡¶ü‡¶ø">Sweets</button>
                    <button class="filter-btn" onclick="filterFood('traditional')" data-en="Traditional" data-bn="‡¶ê‡¶§‡¶ø‡¶π‡ßç‡¶Ø‡¶¨‡¶æ‡¶π‡ßÄ">Traditional</button>
                </div>
            </div>

            <div class="food-grid" id="foodGrid">
                <!-- Sample Food Cards -->
                <div class="food-card">
                    <h4>Kathi Roll</h4>
                    <div class="food-rating">
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        4.8/5
                    </div>
                    <div class="detail-item">
                        <span class="detail-icon">üìç</span>
                        <span>Nizam's, New Market</span>
                    </div>
                    <div class="detail-item">
                        <span class="detail-icon">üí∞</span>
                        <span>‚Çπ80 - ‚Çπ120</span>
                    </div>
                    <button class="btn">
                        <i class="fas fa-directions"></i>
                        Get Directions
                    </button>
                </div>

                <div class="food-card">
                    <h4>Rasgulla</h4>
                    <div class="food-rating">
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        4.9/5
                    </div>
                    <div class="detail-item">
                        <span class="detail-icon">üìç</span>
                        <span>KC Das, Esplanade</span>
                    </div>
                    <div class="detail-item">
                        <span class="detail-icon">üí∞</span>
                        <span>‚Çπ15 - ‚Çπ25 per piece</span>
                    </div>
                    <button class="btn">
                        <i class="fas fa-directions"></i>
                        Get Directions
                    </button>
                </div>

                <div class="food-card">
                    <h4>Fish Curry & Rice</h4>
                    <div class="food-rating">
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="far fa-star"></i>
                        4.5/5
                    </div>
                    <div class="detail-item">
                        <span class="detail-icon">üìç</span>
                        <span>Bhojohori Manna, Shyambazar</span>
                    </div>
                    <div class="detail-item">
                        <span class="detail-icon">üí∞</span>
                        <span>‚Çπ350 - ‚Çπ450</span>
                    </div>
                    <button class="btn">
                        <i class="fas fa-directions"></i>
                        Get Directions
                    </button>
                </div>

                <div class="food-card">
                    <h4>Puchka</h4>
                    <div class="food-rating">
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        4.7/5
                    </div>
                    <div class="detail-item">
                        <span class="detail-icon">üìç</span>
                        <span>Street Vendors, College Street</span>
                    </div>
                    <div class="detail-item">
                        <span class="detail-icon">üí∞</span>
                        <span>‚Çπ20 - ‚Çπ30</span>
                    </div>
                    <button class="btn">
                        <i class="fas fa-directions"></i>
                        Get Directions
                    </button>
                </div>
            </div>

            <div class="route-container">
                <h3 data-en="üìø Cultural Etiquette & Tips" data-bn="üìø ‡¶∏‡¶æ‡¶Ç‡¶∏‡ßç‡¶ï‡ßÉ‡¶§‡¶ø‡¶ï ‡¶∂‡¶ø‡¶∑‡ßç‡¶ü‡¶æ‡¶ö‡¶æ‡¶∞ ‡¶ì ‡¶™‡¶∞‡¶æ‡¶Æ‡¶∞‡ßç‡¶∂">üìø Cultural Etiquette & Tips</h3>
                <div class="detail-item">
                    <span class="detail-icon">üôè</span>
                    <span data-en="Remove shoes before entering pandals (where required)" data-bn="‡¶™‡¶£‡ßç‡¶°‡ßá‡¶≤‡ßá ‡¶™‡ßç‡¶∞‡¶¨‡ßá‡¶∂‡ßá‡¶∞ ‡¶Ü‡¶ó‡ßá ‡¶ú‡ßÅ‡¶§‡¶æ ‡¶ñ‡ßÅ‡¶≤‡ßá ‡¶∞‡¶æ‡¶ñ‡ßÅ‡¶® (‡¶Ø‡ßá‡¶ñ‡¶æ‡¶®‡ßá ‡¶™‡ßç‡¶∞‡¶Ø‡¶º‡ßã‡¶ú‡¶®)">Remove shoes before entering pandals (where required)</span>
                </div>
                <div class="detail-item">
                    <span class="detail-icon">üì∏</span>
                    <span data-en="Ask permission before photographing people" data-bn="‡¶Æ‡¶æ‡¶®‡ßÅ‡¶∑‡ßá‡¶∞ ‡¶õ‡¶¨‡¶ø ‡¶§‡ßã‡¶≤‡¶æ‡¶∞ ‡¶Ü‡¶ó‡ßá ‡¶Ö‡¶®‡ßÅ‡¶Æ‡¶§‡¶ø ‡¶®‡¶ø‡¶®">Ask permission before photographing people</span>
                </div>
                <div class="detail-item">
                    <span class="detail-icon">üë•</span>
                    <span data-en="Follow crowd management instructions" data-bn="‡¶≠‡¶ø‡¶°‡¶º ‡¶®‡¶ø‡¶Ø‡¶º‡¶®‡ßç‡¶§‡ßç‡¶∞‡¶£‡ßá‡¶∞ ‡¶®‡¶ø‡¶∞‡ßç‡¶¶‡ßá‡¶∂‡¶æ‡¶¨‡¶≤‡ßÄ ‡¶Æ‡ßá‡¶®‡ßá ‡¶ö‡¶≤‡ßÅ‡¶®">Follow crowd management instructions</span>
                </div>
                <div class="detail-item">
                    <span class="detail-icon">üí∞</span>
                    <span data-en="Carry small change for offerings (‚Çπ5-20)" data-bn="‡¶â‡ßé‡¶∏‡¶∞‡ßç‡¶ó‡ßá‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶õ‡ßã‡¶ü ‡¶ü‡¶æ‡¶ï‡¶æ ‡¶∞‡¶æ‡¶ñ‡ßÅ‡¶® (‚Çπ‡ß´-‡ß®‡ß¶)">Carry small change for offerings (‚Çπ5-20)</span>
                </div>
                <div class="detail-item">
                    <span class="detail-icon">üå∫</span>
                    <span data-en="Traditional greeting: \"‡¶∂‡ßÅ‡¶≠ ‡¶¶‡ßÅ‡¶∞‡ßç‡¶ó‡ßã‡ßé‡¶∏‡¶¨\" (Shubho Durgotsav)" data-bn="‡¶ê‡¶§‡¶ø‡¶π‡ßç‡¶Ø‡¶¨‡¶æ‡¶π‡ßÄ ‡¶Ö‡¶≠‡¶ø‡¶¨‡¶æ‡¶¶‡¶®: \"‡¶∂‡ßÅ‡¶≠ ‡¶¶‡ßÅ‡¶∞‡ßç‡¶ó‡ßã‡ßé‡¶∏‡¶¨\"">Traditional greeting: "‡¶∂‡ßÅ‡¶≠ ‡¶¶‡ßÅ‡¶∞‡ßç‡¶ó‡ßã‡ßé‡¶∏‡¶¨" (Shubho Durgotsav)</span>
                </div>
            </div>

            <!-- Bengali Calendar -->
            <div class="route-container">
                <h3 data-en="üìÖ Puja Calendar 2025" data-bn="üìÖ ‡¶™‡ßÇ‡¶ú‡¶æ ‡¶ï‡ßç‡¶Ø‡¶æ‡¶≤‡ßá‡¶®‡ßç‡¶°‡¶æ‡¶∞ ‡ß®‡ß¶‡ß®‡ß´">üìÖ Puja Calendar 2025</h3>
                <div class="emergency-grid">
                    <div class="emergency-card" style="background: linear-gradient(135deg, var(--saffron), var(--marigold));">
                        <h4 data-en="Mahalaya" data-bn="‡¶Æ‡¶π‡¶æ‡¶≤‡¶Ø‡¶º‡¶æ">Mahalaya</h4>
                        <p data-en="September 17, 2025" data-bn="‡ßß‡ß≠ ‡¶∏‡ßá‡¶™‡ßç‡¶ü‡ßá‡¶Æ‡ßç‡¶¨‡¶∞, ‡ß®‡ß¶‡ß®‡ß´">September 17, 2025</p>
                    </div>
                    <div class="emergency-card" style="background: linear-gradient(135deg, var(--vermillion), var(--primary-color));">
                        <h4 data-en="Shashthi" data-bn="‡¶∑‡¶∑‡ßç‡¶†‡ßÄ">Shashthi</h4>
                        <p data-en="October 1, 2025" data-bn="‡ßß ‡¶Ö‡¶ï‡ßç‡¶ü‡ßã‡¶¨‡¶∞, ‡ß®‡ß¶‡ß®‡ß´">October 1, 2025</p>
                    </div>
                    <div class="emergency-card" style="background: linear-gradient(135deg, var(--gold), var(--saffron));">
                        <h4 data-en="Saptami" data-bn="‡¶∏‡¶™‡ßç‡¶§‡¶Æ‡ßÄ">Saptami</h4>
                        <p data-en="October 2, 2025" data-bn="‡ß® ‡¶Ö‡¶ï‡ßç‡¶ü‡ßã‡¶¨‡¶∞, ‡ß®‡ß¶‡ß®‡ß´">October 2, 2025</p>
                    </div>
                    <div class="emergency-card" style="background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));">
                        <h4 data-en="Ashtami" data-bn="‡¶Ö‡¶∑‡ßç‡¶ü‡¶Æ‡ßÄ">Ashtami</h4>
                        <p data-en="October 3, 2025" data-bn="‡ß© ‡¶Ö‡¶ï‡ßç‡¶ü‡ßã‡¶¨‡¶∞, ‡ß®‡ß¶‡ß®‡ß´">October 3, 2025</p>
                    </div>
                    <div class="emergency-card" style="background: linear-gradient(135deg, var(--marigold), var(--gold));">
                        <h4 data-en="Navami" data-bn="‡¶®‡¶¨‡¶Æ‡ßÄ">Navami</h4>
                        <p data-en="October 4, 2025" data-bn="‡ß™ ‡¶Ö‡¶ï‡ßç‡¶ü‡ßã‡¶¨‡¶∞, ‡ß®‡ß¶‡ß®‡ß´">October 4, 2025</p>
                    </div>
                    <div class="emergency-card" style="background: linear-gradient(135deg, var(--accent-color), var(--accent-secondary));">
                        <h4 data-en="Dashami" data-bn="‡¶¶‡¶∂‡¶Æ‡ßÄ">Dashami</h4>
                        <p data-en="October 5, 2025" data-bn="‡ß´ ‡¶Ö‡¶ï‡ßç‡¶ü‡ßã‡¶¨‡¶∞, ‡ß®‡ß¶‡ß®‡ß´">October 5, 2025</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Modals -->
    <div class="modal" id="arModal">
        <div class="modal-content">
            <button class="modal-close" onclick="closeModal('arModal')">&times;</button>
            <h2 data-en="AR Pandal Finder" data-bn="‡¶è‡¶Ü‡¶∞ ‡¶™‡¶£‡ßç‡¶°‡ßá‡¶≤ ‡¶ñ‡ßÅ‡¶Å‡¶ú‡ßÅ‡¶®">AR Pandal Finder</h2>
            <div class="ar-container">
                <div id="arCamera">
                    <div class="ar-overlay">
                        <h3 data-en="Point camera at surroundings" data-bn="‡¶ï‡ßç‡¶Ø‡¶æ‡¶Æ‡ßá‡¶∞‡¶æ ‡¶Ü‡¶∂‡ßá‡¶™‡¶æ‡¶∂‡ßá ‡¶®‡¶ø‡¶∞‡ßç‡¶¶‡ßá‡¶∂ ‡¶ï‡¶∞‡ßÅ‡¶®">Point camera at surroundings</h3>
                        <p data-en="AR markers will show nearby pandals" data-bn="‡¶è‡¶Ü‡¶∞ ‡¶Æ‡¶æ‡¶∞‡ßç‡¶ï‡¶æ‡¶∞ ‡¶ï‡¶æ‡¶õ‡¶æ‡¶ï‡¶æ‡¶õ‡¶ø ‡¶™‡¶£‡ßç‡¶°‡ßá‡¶≤ ‡¶¶‡ßá‡¶ñ‡¶æ‡¶¨‡ßá">AR markers will show nearby pandals</p>
                        <div class="ar-pointer" style="top: 30%; left: 40%;">
                            <i class="fas fa-arrow-up"></i>
                        </div>
                        <div style="position: absolute; top: 25%; left: 35%; color: white; font-size: 0.8rem;">
                            Tala Puja - 500m
                        </div>
                    </div>
                </div>
                <button class="btn" onclick="startARCamera()">
                    <i class="fas fa-camera"></i>
                    <span data-en="Start AR Navigation" data-bn="‡¶è‡¶Ü‡¶∞ ‡¶®‡ßá‡¶≠‡¶ø‡¶ó‡ßá‡¶∂‡¶® ‡¶∂‡ßÅ‡¶∞‡ßÅ ‡¶ï‡¶∞‡ßÅ‡¶®">Start AR Navigation</span>
                </button>
            </div>
        </div>
    </div>

    <div class="modal" id="themeArchiveModal">
        <div class="modal-content">
            <button class="modal-close" onclick="closeModal('themeArchiveModal')">&times;</button>
            <h2 data-en="Theme Archive (2019-2024)" data-bn="‡¶•‡¶ø‡¶Æ ‡¶Ü‡¶∞‡ßç‡¶ï‡¶æ‡¶á‡¶≠ (‡ß®‡ß¶‡ßß‡ßØ-‡ß®‡ß¶‡ß®‡ß™)">Theme Archive (2019-2024)</h2>
            <div class="photo-grid" id="themeArchiveGrid">
                <div class="photo-item">
                    <div style="background: var(--accent-color); height: 200px; display: flex; align-items: center; justify-content: center; color: white; border-radius: 10px;">
                        2024 Themes Loading...
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="modal" id="selfieModal">
        <div class="modal-content">
            <button class="modal-close" onclick="closeModal('selfieModal')">&times;</button>
            <h2 data-en="Festival Selfie Wall" data-bn="‡¶â‡ßé‡¶∏‡¶¨‡ßá‡¶∞ ‡¶∏‡ßá‡¶≤‡¶´‡¶ø ‡¶ì‡¶Ø‡¶º‡¶æ‡¶≤">Festival Selfie Wall</h2>
            <div style="text-align: center; margin: 1rem 0;">
                <button class="btn" onclick="capturePhoto()">
                    <i class="fas fa-camera"></i>
                    <span data-en="Take Selfie" data-bn="‡¶∏‡ßá‡¶≤‡¶´‡¶ø ‡¶§‡ßÅ‡¶≤‡ßÅ‡¶®">Take Selfie</span>
                </button>
                <input type="file" id="photoUpload" accept="image/*" style="display: none;" onchange="uploadPhoto()">
                <button class="btn" onclick="document.getElementById('photoUpload').click()">
                    <i class="fas fa-upload"></i>
                    <span data-en="Upload Photo" data-bn="‡¶õ‡¶¨‡¶ø ‡¶Ü‡¶™‡¶≤‡ßã‡¶° ‡¶ï‡¶∞‡ßÅ‡¶®">Upload Photo</span>
                </button>
            </div>
            <div class="photo-grid" id="selfieGrid">
                <div class="photo-item">
                    <div style="background: var(--border-color); height: 200px; display: flex; align-items: center; justify-content: center; color: var(--text-secondary); border-radius: 10px;">
                        Your Selfies Here
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="modal" id="badgesModal">
        <div class="modal-content">
            <button class="modal-close" onclick="closeModal('badgesModal')">&times;</button>
            <h2 data-en="Achievement Badges" data-bn="‡¶Ö‡¶∞‡ßç‡¶ú‡¶®‡ßá‡¶∞ ‡¶¨‡ßç‡¶Ø‡¶æ‡¶ú">Achievement Badges</h2>
            <div class="badge-container" id="badgeContainer">
                <div class="badge">
                    <i class="fas fa-star"></i>
                    <span>First Visit</span>
                </div>
                <div class="badge locked">
                    <i class="fas fa-lock"></i>
                    <span>Heritage Explorer</span>
                </div>
                <div class="badge locked">
                    <i class="fas fa-lock"></i>
                    <span>Photo Enthusiast</span>
                </div>
                <div class="badge locked">
                    <i class="fas fa-lock"></i>
                    <span>Route Master</span>
                </div>
            </div>
        </div>
    </div>

    <!-- Weather Widget -->
    <div class="weather-widget" id="weatherWidget" style="display: none;">
        <button class="weather-close" onclick="hideWeatherWidget()">&times;</button>
        <h3 data-en="Weather Forecast" data-bn="‡¶Ü‡¶¨‡¶π‡¶æ‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞ ‡¶™‡ßÇ‡¶∞‡ßç‡¶¨‡¶æ‡¶≠‡¶æ‡¶∏">Weather Forecast</h3>
        <div class="weather-current">
            <div style="font-size: 3rem;">üå§Ô∏è</div>
            <div class="weather-temp">28¬∞C</div>
            <div class="weather-desc">Partly Cloudy</div>
            <div class="weather-details">
                <div>Humidity: 65%</div>
                <div>Wind: 12 km/h</div>
                <div>Feels like: 31¬∞C</div>
                <div>UV Index: 6</div>
            </div>
        </div>
        <div class="weather-forecast">
            <h4>5-Day Forecast</h4>
            <div class="forecast-day">
                <span>Today</span>
                <span>üå§Ô∏è 28¬∞/22¬∞</span>
            </div>
            <div class="forecast-day">
                <span>Tomorrow</span>
                <span>üåßÔ∏è 25¬∞/20¬∞</span>
            </div>
            <div class="forecast-day">
                <span>Oct 3</span>
                <span>‚òÄÔ∏è 30¬∞/24¬∞</span>
            </div>
            <div class="forecast-day">
                <span>Oct 4</span>
                <span>üå§Ô∏è 29¬∞/23¬∞</span>
            </div>
            <div class="forecast-day">
                <span>Oct 5</span>
                <span>üåßÔ∏è 26¬∞/21¬∞</span>
            </div>
        </div>
    </div>

    <!-- Floating Action Buttons -->
    <button class="fab" onclick="showBookmarks()" title="Bookmarked Pandals">
        ‚ù§Ô∏è
    </button>
    <button class="sos-button" onclick="triggerSOS()" title="Emergency SOS">
        SOS
    </button>

    <!-- Toast Notification -->
    <div class="toast" id="toast"></div>

    <!-- Footer -->
    <footer class="site-footer">
        <p>
            ‚ú® 
            <span data-en="Made with ‚ù§Ô∏è by" data-bn="‡¶≠‡¶æ‡¶≤‡ßã‡¶¨‡¶æ‡¶∏‡¶æ‡¶Ø‡¶º ‡¶®‡¶ø‡¶∞‡ßç‡¶Æ‡¶ø‡¶§">Made with ‚ù§Ô∏è by</span> 
            <span class="rohit" data-en="Rohit" data-bn="‡¶∞‡ßã‡¶π‡¶ø‡¶§">Rohit</span> 
            ‚ú®
        </p>
    </footer>

    <!-- Leaflet JavaScript -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/leaflet.js"></script>
    
    <script>
        // Dynamic Weather data that updates automatically based on current date
        function generateWeatherData() {
            const today = new Date();
            const days = ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'];
            const daysBengali = ['‡¶∞‡¶¨‡¶ø‡¶¨‡¶æ‡¶∞', '‡¶∏‡ßã‡¶Æ‡¶¨‡¶æ‡¶∞', '‡¶Æ‡¶ô‡ßç‡¶ó‡¶≤‡¶¨‡¶æ‡¶∞', '‡¶¨‡ßÅ‡¶ß‡¶¨‡¶æ‡¶∞', '‡¶¨‡ßÉ‡¶π‡¶∏‡ßç‡¶™‡¶§‡¶ø‡¶¨‡¶æ‡¶∞', '‡¶∂‡ßÅ‡¶ï‡ßç‡¶∞‡¶¨‡¶æ‡¶∞', '‡¶∂‡¶®‡¶ø‡¶¨‡¶æ‡¶∞'];
            const months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];
            
            // Weather patterns that cycle based on the day of year
            const weatherPatterns = [
                {
                    condition: { en: "Sunny", bn: "‡¶∞‡ßå‡¶¶‡ßç‡¶∞‡ßã‡¶ú‡ßç‡¶ú‡ßç‡¶¨‡¶≤" },
                    icon: "‚òÄÔ∏è",
                    tempRange: { high: [30, 35], low: [22, 27] },
                    humidity: [45, 65],
                    rain: [5, 20]
                },
                {
                    condition: { en: "Partly Cloudy", bn: "‡¶Ü‡¶Ç‡¶∂‡¶ø‡¶ï ‡¶Æ‡ßá‡¶ò‡¶≤‡¶æ" },
                    icon: "‚õÖ",
                    tempRange: { high: [28, 33], low: [20, 25] },
                    humidity: [55, 75],
                    rain: [15, 35]
                },
                {
                    condition: { en: "Cloudy", bn: "‡¶Æ‡ßá‡¶ò‡¶≤‡¶æ" },
                    icon: "‚òÅÔ∏è",
                    tempRange: { high: [25, 30], low: [18, 23] },
                    humidity: [65, 85],
                    rain: [25, 45]
                },
                {
                    condition: { en: "Light Rain", bn: "‡¶π‡¶æ‡¶≤‡¶ï‡¶æ ‡¶¨‡ßÉ‡¶∑‡ßç‡¶ü‡¶ø" },
                    icon: "üå¶Ô∏è",
                    tempRange: { high: [24, 29], low: [17, 22] },
                    humidity: [70, 90],
                    rain: [60, 80]
                },
                {
                    condition: { en: "Heavy Rain", bn: "‡¶≠‡¶æ‡¶∞‡ßÄ ‡¶¨‡ßÉ‡¶∑‡ßç‡¶ü‡¶ø" },
                    icon: "üåßÔ∏è",
                    tempRange: { high: [22, 27], low: [15, 20] },
                    humidity: [80, 95],
                    rain: [80, 95]
                },
                {
                    condition: { en: "Thunderstorms", bn: "‡¶¨‡¶ú‡ßç‡¶∞‡¶¨‡ßÉ‡¶∑‡ßç‡¶ü‡¶ø" },
                    icon: "‚õàÔ∏è",
                    tempRange: { high: [23, 28], low: [16, 21] },
                    humidity: [75, 95],
                    rain: [85, 100]
                },
                {
                    condition: { en: "Hot & Humid", bn: "‡¶ó‡¶∞‡¶Æ ‡¶ì ‡¶Ü‡¶∞‡ßç‡¶¶‡ßç‡¶∞" },
                    icon: "üå§Ô∏è",
                    tempRange: { high: [32, 38], low: [24, 29] },
                    humidity: [70, 90],
                    rain: [10, 40]
                }
            ];
            
            // Function to get weather pattern based on date
            function getWeatherPattern(dateOffset = 0) {
                const targetDate = new Date(today);
                targetDate.setDate(targetDate.getDate() + dateOffset);
                
                // Use day of year to create consistent but varied weather
                const dayOfYear = Math.floor((targetDate - new Date(targetDate.getFullYear(), 0, 0)) / 86400000);
                
                // Create some seasonal variation
                const month = targetDate.getMonth();
                let basePatternIndex;
                
                // Seasonal weather patterns for Kolkata
                if (month >= 2 && month <= 5) { // March-June (Hot season)
                    basePatternIndex = (dayOfYear % 3) + 4; // Hot, sunny, or thunderstorms
                } else if (month >= 6 && month <= 9) { // July-October (Monsoon)
                    basePatternIndex = (dayOfYear % 4) + 2; // Cloudy, rainy patterns
                } else { // November-February (Winter/Pleasant)
                    basePatternIndex = (dayOfYear % 3); // Sunny, partly cloudy, cloudy
                }
                
                return weatherPatterns[basePatternIndex % weatherPatterns.length];
            }
            
            // Function to generate random value within range
            function randomInRange(range) {
                return Math.floor(Math.random() * (range[1] - range[0] + 1)) + range[0];
            }
            
            // Get current weather
            const currentPattern = getWeatherPattern(0);
            const currentTemp = randomInRange(currentPattern.tempRange.high) - 2; // Current is usually between high and low
            
            // Generate forecast data
            const forecast = [];
            for (let i = 0; i < 6; i++) {
                const forecastDate = new Date(today);
                forecastDate.setDate(forecastDate.getDate() + i);
                
                const dayName = i === 0 ? { en: "Today", bn: "‡¶Ü‡¶ú" } : 
                               i === 1 ? { en: "Tomorrow", bn: "‡¶ï‡¶æ‡¶≤" } : 
                               { en: days[forecastDate.getDay()], bn: daysBengali[forecastDate.getDay()] };
                
                const dateString = `${months[forecastDate.getMonth()]} ${forecastDate.getDate()}`;
                const pattern = getWeatherPattern(i);
                
                forecast.push({
                    day: dayName,
                    date: dateString,
                    condition: pattern.condition,
                    high: randomInRange(pattern.tempRange.high),
                    low: randomInRange(pattern.tempRange.low),
                    rain: randomInRange(pattern.rain),
                    icon: pattern.icon
                });
            }
            
            return {
                current: {
                    temp: currentTemp,
                    condition: currentPattern.condition,
                    humidity: randomInRange(currentPattern.humidity),
                    windSpeed: Math.floor(Math.random() * 15) + 5, // 5-20 km/h
                    visibility: Math.floor(Math.random() * 6) + 5, // 5-10 km
                    uvIndex: Math.floor(Math.random() * 8) + 3, // 3-10
                    feelsLike: currentTemp + Math.floor(Math.random() * 6) + 2, // +2 to +8 degrees
                    icon: currentPattern.icon
                },
                forecast: forecast
            };
        }

        // Global Variables
        let currentLanguage = 'en';
        let currentTheme = 'light';
        let currentFilter = 'all';
        let userLocation = null;
        let bookmarkedPandals = new Set();
        let visitedPandals = new Set();
        let routeProgress = 0;
        let isNavigating = false;
        let map = null;

        // Get weather data
        const weatherData = generateWeatherData();

        // Pandal data with corrected structure
        const pandals = [
            {
                id: 1,
                name: { en: "Tala Prally Durga Puja Committee", bn: "‡¶§‡¶æ‡¶≤‡¶æ ‡¶™‡ßç‡¶∞‡¶≤‡ßç‡¶≤‡¶Ø‡¶º ‡¶¶‡ßÅ‡¶∞‡ßç‡¶ó‡¶æ‡¶™‡ßÇ‡¶ú‡¶æ ‡¶ï‡¶Æ‡¶ø‡¶ü‡¶ø" },
                street: { en: "Tala, Barasat Road", bn: "‡¶§‡¶æ‡¶≤‡¶æ, ‡¶¨‡¶æ‡¶∞‡¶æ‡¶∏‡¶æ‡¶§ ‡¶∞‡ßã‡¶°" },
                locality: { en: "Tala", bn: "‡¶§‡¶æ‡¶≤‡¶æ" },
                metro: { en: "2.5 km from Dum Dum Metro", bn: "‡¶¶‡¶Æ‡¶¶‡¶Æ ‡¶Æ‡ßá‡¶ü‡ßç‡¶∞‡ßã ‡¶•‡ßá‡¶ï‡ßá ‡ß®.‡ß´ ‡¶ï‡¶ø‡¶Æ‡¶ø" },
                coordinates: [22.6428, 88.3832],
                theme: { en: "Traditional Bengali Heritage", bn: "‡¶ê‡¶§‡¶ø‡¶π‡ßç‡¶Ø‡¶¨‡¶æ‡¶π‡ßÄ ‡¶¨‡¶æ‡¶ô‡¶æ‡¶≤‡¶ø ‡¶ê‡¶§‡¶ø‡¶π‡ßç‡¶Ø" },
                timing: { en: "6 AM - 11 PM", bn: "‡¶∏‡¶ï‡¶æ‡¶≤ ‡ß¨‡¶ü‡¶æ - ‡¶∞‡¶æ‡¶§ ‡ßß‡ßß‡¶ü‡¶æ" },
                type: "heritage",
                accessibility: true,
                crowdLevel: "medium",
                waitTime: "15 mins",
                description: { en: "One of North Kolkata's heritage pujas with traditional decorations", bn: "‡¶â‡¶§‡ßç‡¶§‡¶∞ ‡¶ï‡¶≤‡¶ï‡¶æ‡¶§‡¶æ‡¶∞ ‡¶è‡¶ï‡¶ü‡¶ø ‡¶ê‡¶§‡¶ø‡¶π‡ßç‡¶Ø‡¶¨‡¶æ‡¶π‡ßÄ ‡¶™‡ßÇ‡¶ú‡¶æ" }
            },
            {
                id: 2,
                name: { en: "Sovabazar Rajbari", bn: "‡¶∂‡ßã‡¶≠‡¶æ‡¶¨‡¶æ‡¶ú‡¶æ‡¶∞ ‡¶∞‡¶æ‡¶ú‡¶¨‡¶æ‡¶°‡¶º‡¶ø" },
                street: { en: "Raja Naba Krishna Street", bn: "‡¶∞‡¶æ‡¶ú‡¶æ ‡¶®‡¶¨‡¶ï‡ßÉ‡¶∑‡ßç‡¶£ ‡¶∏‡ßç‡¶ü‡ßç‡¶∞‡¶ø‡¶ü" },
                locality: { en: "Sovabazar", bn: "‡¶∂‡ßã‡¶≠‡¶æ‡¶¨‡¶æ‡¶ú‡¶æ‡¶∞" },
                metro: { en: "500m from Sovabazar Metro", bn: "‡¶∂‡ßã‡¶≠‡¶æ‡¶¨‡¶æ‡¶ú‡¶æ‡¶∞ ‡¶Æ‡ßá‡¶ü‡ßç‡¶∞‡ßã ‡¶•‡ßá‡¶ï‡ßá ‡ß´‡ß¶‡ß¶ ‡¶Æ‡¶ø" },
                coordinates: [22.6067, 88.3489],
                theme: { en: "Royal Heritage Durga Puja", bn: "‡¶∞‡¶æ‡¶ú‡¶ï‡ßÄ‡¶Ø‡¶º ‡¶ê‡¶§‡¶ø‡¶π‡ßç‡¶Ø‡¶¨‡¶æ‡¶π‡ßÄ ‡¶¶‡ßÅ‡¶∞‡ßç‡¶ó‡¶æ‡¶™‡ßÇ‡¶ú‡¶æ" },
                timing: { en: "6 AM - 12 AM", bn: "‡¶∏‡¶ï‡¶æ‡¶≤ ‡ß¨‡¶ü‡¶æ - ‡¶Æ‡¶ß‡ßç‡¶Ø‡¶∞‡¶æ‡¶§ ‡ßß‡ß®‡¶ü‡¶æ" },
                type: "heritage",
                accessibility: false,
                crowdLevel: "high",
                waitTime: "45 mins",
                description: { en: "250+ year old heritage puja in royal palace", bn: "‡¶∞‡¶æ‡¶ú‡¶™‡ßç‡¶∞‡¶æ‡¶∏‡¶æ‡¶¶‡ßá ‡ß®‡ß´‡ß¶+ ‡¶¨‡¶õ‡¶∞‡ßá‡¶∞ ‡¶™‡ßÅ‡¶∞‡¶®‡ßã ‡¶ê‡¶§‡¶ø‡¶π‡ßç‡¶Ø‡¶¨‡¶æ‡¶π‡ßÄ ‡¶™‡ßÇ‡¶ú‡¶æ" }
            },
            {
                id: 3,
                name: { en: "Kumartuli Park", bn: "‡¶ï‡ßÅ‡¶Æ‡¶æ‡¶∞‡¶ü‡ßÅ‡¶≤‡¶ø ‡¶™‡¶æ‡¶∞‡ßç‡¶ï" },
                street: { en: "Kumartuli Street", bn: "‡¶ï‡ßÅ‡¶Æ‡¶æ‡¶∞‡¶ü‡ßÅ‡¶≤‡¶ø ‡¶∏‡ßç‡¶ü‡ßç‡¶∞‡¶ø‡¶ü" },
                locality: { en: "Sovabazar", bn: "‡¶∂‡ßã‡¶≠‡¶æ‡¶¨‡¶æ‡¶ú‡¶æ‡¶∞" },
                metro: { en: "1 km from Sovabazar Metro", bn: "‡¶∂‡ßã‡¶≠‡¶æ‡¶¨‡¶æ‡¶ú‡¶æ‡¶∞ ‡¶Æ‡ßá‡¶ü‡ßç‡¶∞‡ßã ‡¶•‡ßá‡¶ï‡ßá ‡ßß ‡¶ï‡¶ø‡¶Æ‡¶ø" },
                coordinates: [22.5845, 88.3489],
                theme: { en: "Artisan's Quarter Theme", bn: "‡¶ï‡¶æ‡¶∞‡¶ø‡¶ó‡¶∞‡¶¶‡ßá‡¶∞ ‡¶™‡¶æ‡¶°‡¶º‡¶æ‡¶∞ ‡¶•‡¶ø‡¶Æ" },
                timing: { en: "5 AM - 11 PM", bn: "‡¶∏‡¶ï‡¶æ‡¶≤ ‡ß´‡¶ü‡¶æ - ‡¶∞‡¶æ‡¶§ ‡ßß‡ßß‡¶ü‡¶æ" },
                type: "community",
                accessibility: true,
                crowdLevel: "low",
                waitTime: "10 mins",
                description: { en: "Famous artisan community puja", bn: "‡¶¨‡¶ø‡¶ñ‡ßç‡¶Ø‡¶æ‡¶§ ‡¶ï‡¶æ‡¶∞‡¶ø‡¶ó‡¶∞ ‡¶∏‡¶Æ‡ßç‡¶™‡ßç‡¶∞‡¶¶‡¶æ‡¶Ø‡¶º‡ßá‡¶∞ ‡¶™‡ßÇ‡¶ú‡¶æ" }
            },
            {
                id: 4,
                name: { en: "Santosh Mitra Square", bn: "‡¶∏‡¶®‡ßç‡¶§‡ßã‡¶∑ ‡¶Æ‡¶ø‡¶§‡ßç‡¶∞ ‡¶∏‡ßç‡¶ï‡ßã‡¶Ø‡¶º‡¶æ‡¶∞" },
                street: { en: "Cornwallis Street", bn: "‡¶ï‡¶∞‡ßç‡¶®‡¶ì‡¶Ø‡¶º‡¶æ‡¶≤‡¶ø‡¶∏ ‡¶∏‡ßç‡¶ü‡ßç‡¶∞‡¶ø‡¶ü" },
                locality: { en: "Central Kolkata", bn: "‡¶Æ‡¶ß‡ßç‡¶Ø ‡¶ï‡¶≤‡¶ï‡¶æ‡¶§‡¶æ" },
                metro: { en: "Walking distance from Central Metro", bn: "‡¶∏‡ßá‡¶®‡ßç‡¶ü‡ßç‡¶∞‡¶æ‡¶≤ ‡¶Æ‡ßá‡¶ü‡ßç‡¶∞‡ßã ‡¶•‡ßá‡¶ï‡ßá ‡¶π‡¶æ‡¶Å‡¶ü‡¶æ ‡¶¶‡ßÇ‡¶∞‡¶§‡ßç‡¶¨" },
                coordinates: [22.5667, 88.3545],
                theme: { en: "Grand Finale Theme", bn: "‡¶Æ‡¶π‡¶æ‡¶® ‡¶∏‡¶Æ‡¶æ‡¶™‡¶®‡ßÄ ‡¶•‡¶ø‡¶Æ" },
                timing: { en: "6 AM - 12 AM", bn: "‡¶∏‡¶ï‡¶æ‡¶≤ ‡ß¨‡¶ü‡¶æ - ‡¶Æ‡¶ß‡ßç‡¶Ø‡¶∞‡¶æ‡¶§ ‡ßß‡ß®‡¶ü‡¶æ" },
                type: "theme",
                accessibility: true,
                crowdLevel: "high",
                waitTime: "60 mins",
                description: { en: "Famous for elaborate themes and massive crowds", bn: "‡¶¨‡¶ø‡¶∏‡ßç‡¶§‡ßÉ‡¶§ ‡¶•‡¶ø‡¶Æ ‡¶è‡¶¨‡¶Ç ‡¶¨‡¶ø‡¶∂‡¶æ‡¶≤ ‡¶≠‡¶ø‡¶°‡¶º‡ßá‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶¨‡¶ø‡¶ñ‡ßç‡¶Ø‡¶æ‡¶§" }
            }
        ];

        // Food data
        const foodItems = [
            {
                id: 1,
                name: { en: "Puchka", bn: "‡¶´‡ßÅ‡¶ö‡¶ï‡¶æ" },
                description: { en: "Bengali pani puri", bn: "‡¶¨‡¶æ‡¶ô‡¶æ‡¶≤‡¶ø ‡¶™‡¶æ‡¶®‡¶ø ‡¶™‡ßÅ‡¶∞‡¶ø" },
                location: { en: "Street corners everywhere", bn: "‡¶∏‡¶∞‡ßç‡¶¨‡¶§‡ßç‡¶∞ ‡¶∞‡¶æ‡¶∏‡ßç‡¶§‡¶æ‡¶∞ ‡¶ï‡ßã‡¶£‡ßá" },
                price: { en: "‚Çπ20-30 for 6", bn: "‡ß¨‡¶ü‡¶ø‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‚Çπ‡ß®‡ß¶-‡ß©‡ß¶" },
                rating: 4.5,
                category: "street"
            },
            {
                id: 2,
                name: { en: "Rosogolla", bn: "‡¶∞‡¶∏‡¶ó‡ßã‡¶≤‡ßç‡¶≤‡¶æ" },
                description: { en: "Bengal's signature sweet", bn: "‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ‡¶∞ ‡¶∏‡ßç‡¶¨‡¶æ‡¶ï‡ßç‡¶∑‡¶∞ ‡¶Æ‡¶ø‡¶∑‡ßç‡¶ü‡¶ø" },
                location: { en: "Sweet shops", bn: "‡¶Æ‡¶ø‡¶∑‡ßç‡¶ü‡¶ø‡¶∞ ‡¶¶‡ßã‡¶ï‡¶æ‡¶®" },
                price: { en: "‚Çπ10-15 per piece", bn: "‡¶™‡ßç‡¶∞‡¶§‡¶ø‡¶ü‡¶ø ‚Çπ‡ßß‡ß¶-‡ßß‡ß´" },
                rating: 4.8,
                category: "sweets"
            },
            {
                id: 3,
                name: { en: "Khichdi Bhog", bn: "‡¶ñ‡¶ø‡¶ö‡ßÅ‡¶°‡¶º‡¶ø ‡¶≠‡ßã‡¶ó" },
                description: { en: "Traditional offering at pandals", bn: "‡¶™‡¶£‡ßç‡¶°‡ßá‡¶≤‡ßá ‡¶ê‡¶§‡¶ø‡¶π‡ßç‡¶Ø‡¶¨‡¶æ‡¶π‡ßÄ ‡¶â‡ßé‡¶∏‡¶∞‡ßç‡¶ó" },
                location: { en: "Available at most pandals", bn: "‡¶¨‡ßá‡¶∂‡¶ø‡¶∞‡¶≠‡¶æ‡¶ó ‡¶™‡¶£‡ßç‡¶°‡ßá‡¶≤‡ßá ‡¶™‡¶æ‡¶ì‡¶Ø‡¶º‡¶æ ‡¶Ø‡¶æ‡¶Ø‡¶º" },
                price: { en: "Free (Prasadam)", bn: "‡¶¨‡¶ø‡¶®‡¶æ‡¶Æ‡ßÇ‡¶≤‡ßç‡¶Ø‡ßá (‡¶™‡ßç‡¶∞‡¶∏‡¶æ‡¶¶‡¶æ‡¶Æ)" },
                rating: 4.3,
                category: "traditional"
            }
        ];

        // Initialize app
        function init() {
            loadSavedData();
            loadSettings();
            loadPandals();
            loadFood();
            updateLanguageContent();
            updateProgress();
            loadRoute();
            updateDateTime();
            
            // Add event listeners
            document.getElementById('searchInput').addEventListener('input', filterAndSearch);
            document.getElementById('foodSearchInput').addEventListener('input', () => filterFood());
            
            // Close modals when clicking overlay
            document.addEventListener('click', function(e) {
                if (e.target.classList.contains('modal')) {
                    e.target.classList.remove('active');
                }
                if (e.target.classList.contains('side-menu-overlay')) {
                    toggleSideMenu();
                }
            });
            
            // Update time every minute
            setInterval(updateDateTime, 60000);
            
            console.log('App initialized successfully');
        }

        // Language and Theme Functions
        function toggleLanguage() {
            currentLanguage = currentLanguage === 'en' ? 'bn' : 'en';
            document.getElementById('langText').textContent = currentLanguage === 'en' ? '‡¶¨‡¶æ‡¶Ç' : 'ENG';
            updateLanguageContent();
            saveSettings();
        }

        function toggleTheme() {
            currentTheme = currentTheme === 'light' ? 'dark' : 'light';
            document.body.setAttribute('data-theme', currentTheme);
            document.getElementById('themeIcon').className = currentTheme === 'light' ? 'fas fa-moon' : 'fas fa-sun';
            saveSettings();
        }

        function updateLanguageContent() {
            document.querySelectorAll('[data-en]').forEach(el => {
                const text = currentLanguage === 'en' ? el.getAttribute('data-en') : el.getAttribute('data-bn');
                if (text) el.textContent = text;
            });
            
            // Update placeholders
            const searchInput = document.getElementById('searchInput');
            const placeholder = currentLanguage === 'en' ? 
                searchInput.getAttribute('data-placeholder-en') : 
                searchInput.getAttribute('data-placeholder-bn');
            if (placeholder) searchInput.placeholder = placeholder;
            
            loadPandals();
            loadFood();
        }

        // Navigation Functions
        function showSection(sectionName) {
            document.querySelectorAll('.content-section').forEach(section => {
                section.classList.remove('active');
            });
            
            document.querySelectorAll('.nav-tab').forEach(tab => {
                tab.classList.remove('active');
            });
            
            const targetSection = sectionName === 'map' ? 'map' : sectionName;
            const sectionElement = document.getElementById(targetSection);
            if (sectionElement) {
                sectionElement.classList.add('active');
            }
            
            // Find and activate the corresponding tab
            const tabs = document.querySelectorAll('.nav-tab');
            tabs.forEach(tab => {
                const onclick = tab.getAttribute('onclick');
                if (onclick && onclick.includes(sectionName)) {
                    tab.classList.add('active');
                }
            });
            
            if (sectionName === 'map') {
                setTimeout(() => {
                    if (!map) {
                        initMap();
                    } else {
                        map.invalidateSize();
                    }
                }, 100);
            }
        }

        function toggleSideMenu() {
            const menu = document.getElementById('sideMenu');
            const overlay = document.getElementById('sideMenuOverlay');
            
            menu.classList.toggle('open');
            overlay.classList.toggle('active');
        }

        // Pandal Functions
        function loadPandals() {
            const grid = document.getElementById('pandalGrid');
            if (!grid) return;
            
            grid.innerHTML = '';
            
            pandals.forEach(pandal => {
                const card = createPandalCard(pandal);
                grid.appendChild(card);
            });
        }

        function createPandalCard(pandal) {
            const div = document.createElement('div');
            const isBookmarked = bookmarkedPandals.has(pandal.id);
            const isVisited = visitedPandals.has(pandal.id);
            
            div.className = `pandal-card ${isVisited ? 'visited' : ''}`;
            div.setAttribute('data-type', pandal.type);
            div.setAttribute('data-name', pandal.name[currentLanguage].toLowerCase());
            div.setAttribute('data-location', pandal.locality[currentLanguage].toLowerCase());
            div.setAttribute('data-accessible', pandal.accessibility);
            
            const crowdClass = pandal.crowdLevel === 'low' ? 'crowd-low' : 
                              pandal.crowdLevel === 'medium' ? 'crowd-medium' : 'crowd-high';
            const crowdText = pandal.crowdLevel === 'low' ? 
                (currentLanguage === 'en' ? 'Low' : '‡¶ï‡¶Æ') : 
                pandal.crowdLevel === 'medium' ? 
                (currentLanguage === 'en' ? 'Medium' : '‡¶Æ‡¶ß‡ßç‡¶Ø‡¶Æ') : 
                (currentLanguage === 'en' ? 'High' : '‡¶¨‡ßá‡¶∂‡¶ø');
            
            div.innerHTML = `
                <div class="crowd-indicator ${crowdClass}">${crowdText}</div>
                <div class="pandal-name">${pandal.name[currentLanguage]}</div>
                <div class="pandal-type">${pandal.type.charAt(0).toUpperCase() + pandal.type.slice(1)}</div>
                <div class="pandal-details">
                    <div class="detail-item">
                        <i class="fas fa-map-marker-alt detail-icon"></i>
                        <span>${pandal.street[currentLanguage]}</span>
                    </div>
                    <div class="detail-item">
                        <i class="fas fa-subway detail-icon"></i>
                        <span>${pandal.metro[currentLanguage]}</span>
                    </div>
                    <div class="detail-item">
                        <i class="fas fa-palette detail-icon"></i>
                        <span>${pandal.theme[currentLanguage]}</span>
                    </div>
                    <div class="detail-item">
                        <i class="fas fa-clock detail-icon"></i>
                        <span>${pandal.timing[currentLanguage]}</span>
                    </div>
                    <div class="detail-item">
                        <i class="fas fa-users detail-icon"></i>
                        <span>${currentLanguage === 'en' ? 'Wait' : '‡¶Ö‡¶™‡ßá‡¶ï‡ßç‡¶∑‡¶æ'}: ${pandal.waitTime}</span>
                    </div>
                    ${pandal.accessibility ? `
                        <div class="detail-item">
                            <i class="fas fa-wheelchair detail-icon"></i>
                            <span>${currentLanguage === 'en' ? 'Wheelchair Accessible' : '‡¶π‡ßÅ‡¶á‡¶≤‡¶ö‡ßá‡¶Ø‡¶º‡¶æ‡¶∞ ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞‡¶Ø‡ßã‡¶ó‡ßç‡¶Ø'}</span>
                        </div>
                    ` : ''}
                </div>
                <div style="margin-top: 1rem;">
                    <button class="btn ${isBookmarked ? 'bookmarked' : ''}" onclick="toggleBookmark(${pandal.id})">
                        <i class="fas fa-heart"></i>
                        ${isBookmarked ? 
                          (currentLanguage === 'en' ? 'Bookmarked' : '‡¶™‡¶õ‡¶®‡ßç‡¶¶‡ßá‡¶∞ ‡¶§‡¶æ‡¶≤‡¶ø‡¶ï‡¶æ‡¶Ø‡¶º') : 
                          (currentLanguage === 'en' ? 'Bookmark' : '‡¶™‡¶õ‡¶®‡ßç‡¶¶ ‡¶ï‡¶∞‡ßÅ‡¶®')}
                    </button>
                    <button class="btn ${isVisited ? 'reached' : ''}" onclick="markAsReached(${pandal.id})">
                        <i class="fas fa-check"></i>
                        ${isVisited ? 
                          (currentLanguage === 'en' ? 'Visited' : '‡¶¶‡ßá‡¶ñ‡¶æ ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá') : 
                          (currentLanguage === 'en' ? 'Mark Visited' : '‡¶¶‡ßá‡¶ñ‡¶æ ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá ‡¶ö‡¶ø‡¶π‡ßç‡¶®‡¶ø‡¶§ ‡¶ï‡¶∞‡ßÅ‡¶®')}
                    </button>
                    <button class="btn" onclick="showRoute(${pandal.id})">
                        <i class="fas fa-directions"></i>
                        ${currentLanguage === 'en' ? 'Directions' : '‡¶¶‡¶ø‡¶ï‡¶®‡¶ø‡¶∞‡ßç‡¶¶‡ßá‡¶∂'}
                    </button>
                </div>
            `;
            
            return div;
        }

        function filterPandals(type) {
            currentFilter = type;
            
            // Update filter button states
            document.querySelectorAll('.filter-btn').forEach(btn => btn.classList.remove('active'));
            event.target.classList.add('active');
            
            filterAndSearch();
        }

        function filterAndSearch() {
            const searchTerm = document.getElementById('searchInput').value.toLowerCase();
            const cards = document.querySelectorAll('.pandal-card');
            
            cards.forEach(card => {
                const type = card.getAttribute('data-type');
                const name = card.getAttribute('data-name');
                const location = card.getAttribute('data-location');
                const isAccessible = card.getAttribute('data-accessible') === 'true';
                
                let typeMatch = currentFilter === 'all' || 
                               type === currentFilter ||
                               (currentFilter === 'accessible' && isAccessible);
                
                let searchMatch = searchTerm === '' || 
                                 name.includes(searchTerm) || 
                                 location.includes(searchTerm);
                
                card.style.display = (typeMatch && searchMatch) ? 'block' : 'none';
            });
        }

        function toggleBookmark(pandalId) {
            const wasBookmarked = bookmarkedPandals.has(pandalId);
            if (wasBookmarked) {
                bookmarkedPandals.delete(pandalId);
            } else {
                bookmarkedPandals.add(pandalId);
            }
            
            const pandal = pandals.find(p => p.id === pandalId);
            const message = wasBookmarked ? 
                (currentLanguage === 'en' ? `Removed ${pandal.name.en} from bookmarks` : `${pandal.name.bn} ‡¶™‡¶õ‡¶®‡ßç‡¶¶‡ßá‡¶∞ ‡¶§‡¶æ‡¶≤‡¶ø‡¶ï‡¶æ ‡¶•‡ßá‡¶ï‡ßá ‡¶∏‡¶∞‡¶æ‡¶®‡ßã ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá`) :
                (currentLanguage === 'en' ? `Added ${pandal.name.en} to bookmarks` : `${pandal.name.bn} ‡¶™‡¶õ‡¶®‡ßç‡¶¶‡ßá‡¶∞ ‡¶§‡¶æ‡¶≤‡¶ø‡¶ï‡¶æ‡¶Ø‡¶º ‡¶Ø‡ßã‡¶ó ‡¶ï‡¶∞‡¶æ ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá`);
            
            showToast(message);
            loadPandals();
            saveData();
        }

        function markAsReached(pandalId) {
            if (!visitedPandals.has(pandalId)) {
                visitedPandals.add(pandalId);
                const pandal = pandals.find(p => p.id === pandalId);
                
                // Celebration effect
                createConfetti();
                
                const message = currentLanguage === 'en' ? 
                    `üéâ Destination Reached: ${pandal.name.en}!` : 
                    `üéâ ‡¶ó‡¶®‡ßç‡¶§‡¶¨‡ßç‡¶Ø‡ßá ‡¶™‡ßå‡¶Å‡¶õ‡ßá‡¶õ‡ßá‡¶®: ${pandal.name.bn}!`;
                
                showToast(message);
                loadPandals();
                updateProgress();
                saveData();
            }
        }

        function showRoute(pandalId) {
            showSection('map');
            const pandal = pandals.find(p => p.id === pandalId);
            if (pandal && map) {
                map.setView(pandal.coordinates, 16);
            }
        }

        // Map Functions
        function initMap() {
            const mapContainer = document.getElementById('mapContainer');
            if (mapContainer) {
                mapContainer.innerHTML = '<div id="leafletMap" style="height: 100%; width: 100%;"></div>';
            }
            
            map = L.map('leafletMap').setView([22.6000, 88.3600], 12);
            
            L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
                attribution: '¬© OpenStreetMap contributors'
            }).addTo(map);
            
            // Add pandal markers
            pandals.forEach((pandal, index) => {
                const isVisited = visitedPandals.has(pandal.id);
                
                const marker = L.marker(pandal.coordinates).addTo(map);
                marker.bindPopup(`
                    <div style="min-width: 200px;">
                        <h4 style="color: #8B0000; margin-bottom: 8px;">${pandal.name[currentLanguage]}</h4>
                        <p style="margin: 4px 0;"><strong>üìç</strong> ${pandal.street[currentLanguage]}</p>
                        <p style="margin: 4px 0;"><strong>üé≠</strong> ${pandal.theme[currentLanguage]}</p>
                        <p style="margin: 4px 0;"><strong>‚è∞</strong> ${pandal.timing[currentLanguage]}</p>
                        <p style="margin: 4px 0;"><strong>${currentLanguage === 'en' ? 'Route Step:' : '‡¶∞‡ßÅ‡¶ü ‡¶∏‡ßç‡¶ü‡ßá‡¶™:'}</strong> ${index + 1}</p>
                        ${isVisited ? `<p style="margin: 4px 0; color: green; font-weight: bold;">‚úÖ ${currentLanguage === 'en' ? 'Visited' : '‡¶¶‡ßá‡¶ñ‡¶æ ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá'}</p>` : ''}
                    </div>
                `);
            });
            
            // Add route line
            const coordinates = pandals.map(p => p.coordinates);
            L.polyline(coordinates, {
                color: '#ff6b35',
                weight: 4,
                opacity: 0.8,
                dashArray: '10, 5'
            }).addTo(map);
        }

        // Route and Progress Functions
        function loadRoute() {
            updateProgress();
        }

        function updateProgress() {
            const totalPandals = pandals.length;
            const visitedCount = visitedPandals.size;
            const progress = (visitedCount / totalPandals) * 100;
            
            routeProgress = progress;
            
            const progressBar = document.getElementById('routeProgressBar');
            const progressText = document.getElementById('progressText');
            
            if (progressBar) progressBar.style.width = `${progress}%`;
            if (progressText) {
                const text = currentLanguage === 'en' ? 
                    `${visitedCount}/${totalPandals} Pandals Visited (${Math.round(progress)}% Complete)` :
                    `${visitedCount}/${totalPandals} ‡¶™‡¶£‡ßç‡¶°‡ßá‡¶≤ ‡¶¶‡ßá‡¶ñ‡¶æ ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá (${Math.round(progress)}% ‡¶∏‡¶Æ‡ßç‡¶™‡ßÇ‡¶∞‡ßç‡¶£)`;
                progressText.textContent = text;
            }
        }

        function startRouteNavigation() {
            if (!userLocation) {
                getCurrentLocation(() => {
                    isNavigating = true;
                    showToast(currentLanguage === 'en' ? 'Navigation started!' : '‡¶®‡ßá‡¶≠‡¶ø‡¶ó‡ßá‡¶∂‡¶® ‡¶∂‡ßÅ‡¶∞‡ßÅ ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá!');
                });
            } else {
                isNavigating = true;
                showToast(currentLanguage === 'en' ? 'Navigation started!' : '‡¶®‡ßá‡¶≠‡¶ø‡¶ó‡ßá‡¶∂‡¶® ‡¶∂‡ßÅ‡¶∞‡ßÅ ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá!');
            }
        }

        function getCurrentLocation(callback) {
            if (navigator.geolocation) {
                navigator.geolocation.getCurrentPosition((position) => {
                    userLocation = [position.coords.latitude, position.coords.longitude];
                    if (map) {
                        // Add user location marker
                        if (window.userMarker) {
                            map.removeLayer(window.userMarker);
                        }
                        window.userMarker = L.marker(userLocation)
                            .addTo(map)
                            .bindPopup(currentLanguage === 'en' ? 'Your Location' : '‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶Ö‡¶¨‡¶∏‡ßç‡¶•‡¶æ‡¶®');
                        map.setView(userLocation, 14);
                    }
                    if (callback) callback();
                    showToast(currentLanguage === 'en' ? 'Location found!' : '‡¶Ö‡¶¨‡¶∏‡ßç‡¶•‡¶æ‡¶® ‡¶™‡¶æ‡¶ì‡¶Ø‡¶º‡¶æ ‡¶ó‡ßá‡¶õ‡ßá!');
                }, (error) => {
                    showToast(currentLanguage === 'en' ? 'Could not get your location' : '‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶Ö‡¶¨‡¶∏‡ßç‡¶•‡¶æ‡¶® ‡¶™‡¶æ‡¶ì‡¶Ø‡¶º‡¶æ ‡¶Ø‡¶æ‡¶ö‡ßç‡¶õ‡ßá ‡¶®‡¶æ', 'error');
                });
            } else {
                showToast(currentLanguage === 'en' ? 'Geolocation not supported' : '‡¶ú‡¶ø‡¶ì‡¶≤‡ßã‡¶ï‡ßá‡¶∂‡¶® ‡¶∏‡¶Æ‡¶∞‡ßç‡¶•‡¶ø‡¶§ ‡¶®‡¶Ø‡¶º', 'error');
            }
        }

        function optimizeRoute() {
            if (!userLocation) {
                showToast(currentLanguage === 'en' ? 'Please allow location access first' : '‡¶™‡ßç‡¶∞‡¶•‡¶Æ‡ßá ‡¶Ö‡¶¨‡¶∏‡ßç‡¶•‡¶æ‡¶®‡ßá‡¶∞ ‡¶Ö‡¶®‡ßÅ‡¶Æ‡¶§‡¶ø ‡¶¶‡¶ø‡¶®', 'warning');
                return;
            }
            
            showToast(currentLanguage === 'en' ? 'Route optimized based on your location!' : '‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶Ö‡¶¨‡¶∏‡ßç‡¶•‡¶æ‡¶®‡ßá‡¶∞ ‡¶≠‡¶ø‡¶§‡ßç‡¶§‡¶ø‡¶§‡ßá ‡¶∞‡ßÅ‡¶ü ‡¶Ö‡¶™‡ßç‡¶ü‡¶ø‡¶Æ‡¶æ‡¶á‡¶ú ‡¶ï‡¶∞‡¶æ ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá!');
        }

        // Food Functions
        function loadFood() {
            const foodGrid = document.getElementById('foodGrid');
            if (!foodGrid) return;
            
            foodGrid.innerHTML = '';
            
            foodItems.forEach(food => {
                const card = createFoodCard(food);
                foodGrid.appendChild(card);
            });
        }

        function createFoodCard(food) {
            const div = document.createElement('div');
            div.className = 'food-card';
            div.setAttribute('data-category', food.category);
            
            const stars = '‚òÖ'.repeat(Math.floor(food.rating)) + '‚òÜ'.repeat(5 - Math.floor(food.rating));
            
            div.innerHTML = `
                <h4 style="color: var(--primary-color); margin-bottom: 8px;">${food.name[currentLanguage]}</h4>
                <p style="font-size: 0.9em; margin-bottom: 8px;">${food.description[currentLanguage]}</p>
                <div class="detail-item">
                    <i class="fas fa-map-marker-alt detail-icon"></i>
                    <span>${food.location[currentLanguage]}</span>
                </div>
                <div class="detail-item">
                    <i class="fas fa-tag detail-icon"></i>
                    <span>${food.price[currentLanguage]}</span>
                </div>
                <div class="food-rating">
                    ${stars} (${food.rating})
                </div>
                <button class="btn" onclick="findNearbyFood('${food.name.en}')">
                    <i class="fas fa-search"></i>
                    ${currentLanguage === 'en' ? 'Find Nearby' : '‡¶ï‡¶æ‡¶õ‡¶æ‡¶ï‡¶æ‡¶õ‡¶ø ‡¶ñ‡ßÅ‡¶Å‡¶ú‡ßÅ‡¶®'}
                </button>
            `;
            
            return div;
        }

        function filterFood(category = 'all') {
            if (category !== 'all') {
                document.querySelectorAll('.filter-btn').forEach(btn => btn.classList.remove('active'));
                event.target.classList.add('active');
            }
            
            const searchTerm = document.getElementById('foodSearchInput')?.value.toLowerCase() || '';
            const cards = document.querySelectorAll('.food-card');
            
            cards.forEach(card => {
                const cardCategory = card.getAttribute('data-category');
                const name = card.querySelector('h4').textContent.toLowerCase();
                const description = card.querySelector('p').textContent.toLowerCase();
                
                const matchesCategory = category === 'all' || cardCategory === category;
                const matchesSearch = name.includes(searchTerm) || description.includes(searchTerm);
                
                card.style.display = matchesCategory && matchesSearch ? 'block' : 'none';
            });
        }

        function findNearbyFood(foodName) {
            if (userLocation) {
                const query = `${foodName} near ${userLocation[0]},${userLocation[1]}`;
                const url = `https://www.google.com/maps/search/${encodeURIComponent(query)}`;
                window.open(url, '_blank');
            } else {
                showToast(currentLanguage === 'en' ? 
                    'Please enable location to find nearby food' : 
                    '‡¶ï‡¶æ‡¶õ‡¶æ‡¶ï‡¶æ‡¶õ‡¶ø ‡¶ñ‡¶æ‡¶¨‡¶æ‡¶∞ ‡¶ñ‡ßÅ‡¶Å‡¶ú‡¶§‡ßá ‡¶Ö‡¶¨‡¶∏‡ßç‡¶•‡¶æ‡¶® ‡¶∏‡¶ï‡ßç‡¶∞‡¶ø‡¶Ø‡¶º ‡¶ï‡¶∞‡ßÅ‡¶®');
            }
        }

        // Weather Functions
        function showWeatherInfo() {
            const weatherOverlay = document.createElement('div');
            weatherOverlay.className = 'side-menu-overlay active';
            weatherOverlay.id = 'weatherOverlay';
            weatherOverlay.onclick = closeWeatherWidget;
            document.body.appendChild(weatherOverlay);

            const weatherWidget = document.createElement('div');
            weatherWidget.className = 'weather-widget';
            weatherWidget.id = 'weatherWidget';
            
            weatherWidget.innerHTML = `
                <button class="weather-close" onclick="closeWeatherWidget()">&times;</button>
                <h3 style="margin-bottom: 1rem; text-align: center; color: var(--primary-color);">
                    ${currentLanguage === 'en' ? 'Weather Forecast for Kolkata' : '‡¶ï‡¶≤‡¶ï‡¶æ‡¶§‡¶æ‡¶∞ ‡¶Ü‡¶¨‡¶π‡¶æ‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞ ‡¶™‡ßÇ‡¶∞‡ßç‡¶¨‡¶æ‡¶≠‡¶æ‡¶∏'}
                </h3>
                
                <div class="weather-current">
                    <div style="font-size: 2rem; margin-bottom: 0.5rem;">${weatherData.current.icon}</div>
                    <div class="weather-temp">${weatherData.current.temp}¬∞C</div>
                    <div class="weather-desc">${weatherData.current.condition[currentLanguage]}</div>
                    <div style="font-size: 0.9rem; opacity: 0.9;">
                        ${currentLanguage === 'en' ? 'Feels like' : '‡¶Ö‡¶®‡ßÅ‡¶≠‡ßÇ‡¶§ ‡¶π‡¶ö‡ßç‡¶õ‡ßá'} ${weatherData.current.feelsLike}¬∞C
                    </div>
                    
                    <div class="weather-details">
                        <div>üíß ${currentLanguage === 'en' ? 'Humidity:' : '‡¶Ü‡¶∞‡ßç‡¶¶‡ßç‡¶∞‡¶§‡¶æ:'} ${weatherData.current.humidity}%</div>
                        <div>üí® ${currentLanguage === 'en' ? 'Wind:' : '‡¶¨‡¶æ‡¶§‡¶æ‡¶∏:'} ${weatherData.current.windSpeed} km/h</div>
                        <div>üëÅÔ∏è ${currentLanguage === 'en' ? 'Visibility:' : '‡¶¶‡ßÉ‡¶∂‡ßç‡¶Ø‡¶Æ‡¶æ‡¶®‡¶§‡¶æ:'} ${weatherData.current.visibility} km</div>
                        <div>‚òÄÔ∏è ${currentLanguage === 'en' ? 'UV Index:' : '‡¶á‡¶â‡¶≠‡¶ø ‡¶∏‡ßÇ‡¶ö‡¶ï:'} ${weatherData.current.uvIndex}</div>
                    </div>
                </div>
                
                <div class="weather-forecast">
                    <h4 style="margin-bottom: 1rem; color: var(--primary-color);">
                        ${currentLanguage === 'en' ? '5-Day Forecast' : '‡ß´ ‡¶¶‡¶ø‡¶®‡ßá‡¶∞ ‡¶™‡ßÇ‡¶∞‡ßç‡¶¨‡¶æ‡¶≠‡¶æ‡¶∏'}
                    </h4>
                    ${weatherData.forecast.map(day => `
                        <div class="forecast-day">
                            <div style="display: flex; align-items: center; gap: 1rem;">
                                <div style="font-size: 1.5rem;">${day.icon}</div>
                                <div>
                                    <div style="font-weight: bold;">${day.day[currentLanguage]}</div>
                                    <div style="font-size: 0.8rem; opacity: 0.8;">${day.date}</div>
                                </div>
                            </div>
                            <div style="text-align: center;">
                                <div style="font-size: 0.9rem; margin-bottom: 2px;">${day.condition[currentLanguage]}</div>
                                <div style="font-weight: bold;">${day.high}¬∞ / ${day.low}¬∞</div>
                                <div style="font-size: 0.8rem; color: #007bff;">üåßÔ∏è ${day.rain}%</div>
                            </div>
                        </div>
                    `).join('')}
                </div>
            `;
            
            document.body.appendChild(weatherWidget);
            toggleSideMenu();
        }

        function closeWeatherWidget() {
            const weatherWidget = document.getElementById('weatherWidget');
            const weatherOverlay = document.getElementById('weatherOverlay');
            
            if (weatherWidget) document.body.removeChild(weatherWidget);
            if (weatherOverlay) document.body.removeChild(weatherOverlay);
        }

        // Menu Functions
        function showBookmarks() {
            if (bookmarkedPandals.size === 0) {
                const message = currentLanguage === 'en' ? 
                    'No bookmarked pandals yet! Start exploring and bookmark your favorites.' :
                    '‡¶è‡¶ñ‡¶®‡ßã ‡¶ï‡ßã‡¶®‡ßã ‡¶™‡¶£‡ßç‡¶°‡ßá‡¶≤ ‡¶™‡¶õ‡¶®‡ßç‡¶¶‡ßá‡¶∞ ‡¶§‡¶æ‡¶≤‡¶ø‡¶ï‡¶æ‡¶Ø‡¶º ‡¶®‡ßá‡¶á! ‡¶Ö‡¶®‡ßç‡¶¨‡ßá‡¶∑‡¶£ ‡¶∂‡ßÅ‡¶∞‡ßÅ ‡¶ï‡¶∞‡ßÅ‡¶® ‡¶è‡¶¨‡¶Ç ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶™‡¶õ‡¶®‡ßç‡¶¶‡ßá‡¶∞ ‡¶™‡¶£‡ßç‡¶°‡ßá‡¶≤‡¶ó‡ßÅ‡¶≤‡¶ø ‡¶¨‡ßÅ‡¶ï‡¶Æ‡¶æ‡¶∞‡ßç‡¶ï ‡¶ï‡¶∞‡ßÅ‡¶®‡•§';
                showToast(message, 'info');
                return;
            }
            
            showSection('pandals');
            toggleSideMenu();
            
            const cards = document.querySelectorAll('.pandal-card');
            cards.forEach(card => {
                const pandalName = card.getAttribute('data-name');
                const pandal = pandals.find(p => p.name[currentLanguage].toLowerCase() === pandalName);
                card.style.display = bookmarkedPandals.has(pandal.id) ? 'block' : 'none';
            });
        }

        function showMyRoute() {
            showSection('map');
            toggleSideMenu();
        }

        function showAR() {
            toggleSideMenu();
            showModal('arModal');
        }

        function showThemeArchive() {
            toggleSideMenu();
            showModal('themeArchiveModal');
        }

        function showSelfieWall() {
            toggleSideMenu();
            showModal('selfieModal');
        }

        function showBadges() {
            toggleSideMenu();
            showModal('badgesModal');
        }

        function clearAllData() {
            if (confirm(currentLanguage === 'en' ? 
                'Are you sure you want to clear all data? This cannot be undone.' :
                '‡¶Ü‡¶™‡¶®‡¶ø ‡¶ï‡¶ø ‡¶®‡¶ø‡¶∂‡ßç‡¶ö‡¶ø‡¶§ ‡¶Ø‡ßá ‡¶∏‡¶Æ‡¶∏‡ßç‡¶§ ‡¶°‡ßá‡¶ü‡¶æ ‡¶Æ‡ßÅ‡¶õ‡ßá ‡¶´‡ßá‡¶≤‡¶§‡ßá ‡¶ö‡¶æ‡¶®? ‡¶è‡¶ü‡¶ø ‡¶™‡ßÇ‡¶∞‡ßç‡¶¨‡¶æ‡¶¨‡¶∏‡ßç‡¶•‡¶æ‡¶Ø‡¶º ‡¶´‡ßá‡¶∞‡¶æ‡¶®‡ßã ‡¶Ø‡¶æ‡¶¨‡ßá ‡¶®‡¶æ‡•§')) {
                
                bookmarkedPandals.clear();
                visitedPandals.clear();
                routeProgress = 0;
                
                localStorage.removeItem('pujaAppData');
                
                loadPandals();
                updateProgress();
                toggleSideMenu();
                
                showToast(currentLanguage === 'en' ? 'All data cleared!' : '‡¶∏‡¶Æ‡¶∏‡ßç‡¶§ ‡¶°‡ßá‡¶ü‡¶æ ‡¶Æ‡ßÅ‡¶õ‡ßá ‡¶´‡ßá‡¶≤‡¶æ ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá!');
            }
        }

        function shareApp() {
            const shareText = currentLanguage === 'en' ? 
                'Check out the Kolkata Durga Puja Guide 2025! Find all pandals, routes, and cultural information in one place.' :
                '‡¶ï‡¶≤‡¶ï‡¶æ‡¶§‡¶æ ‡¶¶‡ßÅ‡¶∞‡ßç‡¶ó‡¶æ‡¶™‡ßÇ‡¶ú‡¶æ ‡¶ó‡¶æ‡¶á‡¶° ‡ß®‡ß¶‡ß®‡ß´ ‡¶¶‡ßá‡¶ñ‡ßÅ‡¶®! ‡¶∏‡¶¨ ‡¶™‡¶£‡ßç‡¶°‡ßá‡¶≤, ‡¶∞‡ßÅ‡¶ü ‡¶è‡¶¨‡¶Ç ‡¶∏‡¶æ‡¶Ç‡¶∏‡ßç‡¶ï‡ßÉ‡¶§‡¶ø‡¶ï ‡¶§‡¶•‡ßç‡¶Ø ‡¶è‡¶ï ‡¶ú‡¶æ‡¶Ø‡¶º‡¶ó‡¶æ‡¶Ø‡¶º ‡¶™‡¶æ‡¶®‡•§';
            
            if (navigator.share) {
                navigator.share({
                    title: currentLanguage === 'en' ? 'Kolkata Durga Puja Guide 2025' : '‡¶ï‡¶≤‡¶ï‡¶æ‡¶§‡¶æ ‡¶¶‡ßÅ‡¶∞‡ßç‡¶ó‡¶æ‡¶™‡ßÇ‡¶ú‡¶æ ‡¶ó‡¶æ‡¶á‡¶° ‡ß®‡ß¶‡ß®‡ß´',
                    text: shareText,
                    url: window.location.href
                });
            } else {
                navigator.clipboard.writeText(shareText + '\n' + window.location.href).then(() => {
                    showToast(currentLanguage === 'en' ? 'App details copied to clipboard!' : '‡¶Ö‡ßç‡¶Ø‡¶æ‡¶™‡ßá‡¶∞ ‡¶¨‡¶ø‡¶¨‡¶∞‡¶£ ‡¶ï‡ßç‡¶≤‡¶ø‡¶™‡¶¨‡ßã‡¶∞‡ßç‡¶°‡ßá ‡¶ï‡¶™‡¶ø ‡¶ï‡¶∞‡¶æ ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá!');
                });
            }
            toggleSideMenu();
        }

        // Modal Functions
        function showModal(modalId) {
            const modal = document.getElementById(modalId);
            if (modal) {
                modal.classList.add('active');
            }
        }

        function closeModal(modalId) {
            const modal = document.getElementById(modalId);
            if (modal) {
                modal.classList.remove('active');
            }
        }

        // AR Functions
        function startARCamera() {
            showToast(currentLanguage === 'en' ? 
                'AR Camera simulation active! Point around to see nearby pandals.' : 
                '‡¶è‡¶Ü‡¶∞ ‡¶ï‡ßç‡¶Ø‡¶æ‡¶Æ‡ßá‡¶∞‡¶æ ‡¶∏‡¶ø‡¶Æ‡ßÅ‡¶≤‡ßá‡¶∂‡¶® ‡¶∏‡¶ï‡ßç‡¶∞‡¶ø‡¶Ø‡¶º! ‡¶ï‡¶æ‡¶õ‡¶æ‡¶ï‡¶æ‡¶õ‡¶ø ‡¶™‡¶£‡ßç‡¶°‡ßá‡¶≤ ‡¶¶‡ßá‡¶ñ‡¶§‡ßá ‡¶ö‡¶æ‡¶∞‡¶™‡¶æ‡¶∂‡ßá ‡¶®‡¶ø‡¶∞‡ßç‡¶¶‡ßá‡¶∂ ‡¶ï‡¶∞‡ßÅ‡¶®‡•§');
        }

        // Photo Functions
        function capturePhoto() {
            showToast(currentLanguage === 'en' ? 
                'Camera feature would open here in a real app' : 
                '‡¶™‡ßç‡¶∞‡¶ï‡ßÉ‡¶§ ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶™‡ßá ‡¶è‡¶ñ‡¶æ‡¶®‡ßá ‡¶ï‡ßç‡¶Ø‡¶æ‡¶Æ‡ßá‡¶∞‡¶æ ‡¶´‡¶ø‡¶ö‡¶æ‡¶∞ ‡¶ñ‡ßÅ‡¶≤‡¶¨‡ßá');
        }

        function uploadPhoto() {
            const file = document.getElementById('photoUpload').files[0];
            if (file) {
                showToast(currentLanguage === 'en' ? 
                    'Photo uploaded to selfie wall!' : 
                    '‡¶∏‡ßá‡¶≤‡¶´‡¶ø ‡¶ì‡¶Ø‡¶º‡¶æ‡¶≤‡ßá ‡¶õ‡¶¨‡¶ø ‡¶Ü‡¶™‡¶≤‡ßã‡¶° ‡¶ï‡¶∞‡¶æ ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá!');
                saveData();
            }
        }

        // Emergency Functions
        function triggerSOS() {
            if (confirm(currentLanguage === 'en' ? 
                'This will share your location and send an emergency alert. Continue?' :
                '‡¶è‡¶ü‡¶ø ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶Ö‡¶¨‡¶∏‡ßç‡¶•‡¶æ‡¶® ‡¶∂‡ßá‡¶Ø‡¶º‡¶æ‡¶∞ ‡¶ï‡¶∞‡¶¨‡ßá ‡¶è‡¶¨‡¶Ç ‡¶è‡¶ï‡¶ü‡¶ø ‡¶ú‡¶∞‡ßÅ‡¶∞‡¶ø ‡¶∏‡¶§‡¶∞‡ßç‡¶ï‡¶§‡¶æ ‡¶™‡¶æ‡¶†‡¶æ‡¶¨‡ßá‡•§ ‡¶ö‡¶æ‡¶≤‡¶ø‡¶Ø‡¶º‡ßá ‡¶Ø‡ßá‡¶§‡ßá ‡¶ö‡¶æ‡¶®?')) {
                
                if (navigator.geolocation) {
                    navigator.geolocation.getCurrentPosition((position) => {
                        const lat = position.coords.latitude;
                        const lng = position.coords.longitude;
                        const message = currentLanguage === 'en' ? 
                            `EMERGENCY ALERT from Durga Puja Guide App\nLocation: ${lat}, ${lng}\nTime: ${new Date().toLocaleString()}\nUser needs assistance!` :
                            `‡¶¶‡ßÅ‡¶∞‡ßç‡¶ó‡¶æ‡¶™‡ßÇ‡¶ú‡¶æ ‡¶ó‡¶æ‡¶á‡¶° ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶™ ‡¶•‡ßá‡¶ï‡ßá ‡¶ú‡¶∞‡ßÅ‡¶∞‡¶ø ‡¶∏‡¶§‡¶∞‡ßç‡¶ï‡¶§‡¶æ\n‡¶Ö‡¶¨‡¶∏‡ßç‡¶•‡¶æ‡¶®: ${lat}, ${lng}\n‡¶∏‡¶Æ‡¶Ø‡¶º: ${new Date().toLocaleString()}\n‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞‡¶ï‡¶æ‡¶∞‡ßÄ‡¶∞ ‡¶∏‡¶æ‡¶π‡¶æ‡¶Ø‡ßç‡¶Ø ‡¶™‡ßç‡¶∞‡¶Ø‡¶º‡ßã‡¶ú‡¶®!`;
                        
                        navigator.clipboard.writeText(message);
                        showToast(currentLanguage === 'en' ? 'Emergency alert prepared! Call 100 for police.' : '‡¶ú‡¶∞‡ßÅ‡¶∞‡¶ø ‡¶∏‡¶§‡¶∞‡ßç‡¶ï‡¶§‡¶æ ‡¶™‡ßç‡¶∞‡¶∏‡ßç‡¶§‡ßÅ‡¶§! ‡¶™‡ßÅ‡¶≤‡¶ø‡¶∂‡ßá‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡ßß‡ß¶‡ß¶ ‡¶ï‡¶≤ ‡¶ï‡¶∞‡ßÅ‡¶®‡•§', 'error');
                        
                        showSection('emergency');
                    });
                } else {
                    showToast(currentLanguage === 'en' ? 'Location not available. Call 100 directly.' : '‡¶Ö‡¶¨‡¶∏‡ßç‡¶•‡¶æ‡¶® ‡¶™‡¶æ‡¶ì‡¶Ø‡¶º‡¶æ ‡¶Ø‡¶æ‡¶ö‡ßç‡¶õ‡ßá ‡¶®‡¶æ‡•§ ‡¶∏‡¶∞‡¶æ‡¶∏‡¶∞‡¶ø ‡ßß‡ß¶‡ß¶ ‡¶ï‡¶≤ ‡¶ï‡¶∞‡ßÅ‡¶®‡•§', 'error');
                }
            }
        }

        // Time and Date Functions
        function updateDateTime() {
            const now = new Date();
            const options = { 
                timeZone: 'Asia/Kolkata',
                weekday: 'long',
                year: 'numeric',
                month: 'long',
                day: 'numeric',
                hour: '2-digit',
                minute: '2-digit'
            };
            
            // Update any time displays if they exist
            const timeElements = document.querySelectorAll('.current-time');
            timeElements.forEach(el => {
                el.textContent = now.toLocaleTimeString('en-IN', {
                    timeZone: 'Asia/Kolkata',
                    hour: '2-digit',
                    minute: '2-digit'
                });
            });
        }

        // Utility Functions
        function showToast(message, type = 'success') {
            const toast = document.createElement('div');
            toast.className = 'toast';
            
            let bgColor = 'linear-gradient(135deg, #28a745, #20c997)';
            if (type === 'error') bgColor = 'linear-gradient(135deg, #dc3545, #c82333)';
            if (type === 'warning') bgColor = 'linear-gradient(135deg, #ffc107, #e0a800)';
            if (type === 'info') bgColor = 'linear-gradient(135deg, #17a2b8, #138496)';
            
            toast.style.cssText = `
                position: fixed;
                top: 100px;
                right: 20px;
                background: ${bgColor};
                color: white;
                padding: 1rem 1.5rem;
                border-radius: 10px;
                box-shadow: 0 5px 15px rgba(0,0,0,0.3);
                z-index: 9999;
                max-width: 300px;
                font-size: 0.9rem;
                transform: translateX(100%);
                transition: transform 0.3s ease;
            `;
            
            toast.textContent = message;
            document.body.appendChild(toast);
            
            setTimeout(() => {
                toast.style.transform = 'translateX(0)';
            }, 100);
            
            setTimeout(() => {
                toast.style.transform = 'translateX(100%)';
                setTimeout(() => {
                    if (document.body.contains(toast)) {
                        document.body.removeChild(toast);
                    }
                }, 300);
            }, 3000);
        }

        function createConfetti() {
            const colors = ['#ff6b35', '#f7931e', '#8B0000', '#DC143C', '#ffd700'];
            
            for (let i = 0; i < 50; i++) {
                const confetti = document.createElement('div');
                confetti.style.cssText = `
                    position: fixed;
                    width: 10px;
                    height: 10px;
                    background: ${colors[Math.floor(Math.random() * colors.length)]};
                    top: -10px;
                    left: ${Math.random() * window.innerWidth}px;
                    z-index: 9999;
                    border-radius: 50%;
                    pointer-events: none;
                `;
                
                document.body.appendChild(confetti);
                
                const animation = confetti.animate([
                    { transform: 'translateY(0) rotate(0deg)', opacity: 1 },
                    { transform: `translateY(${window.innerHeight + 20}px) rotate(720deg)`, opacity: 0 }
                ], {
                    duration: 3000 + Math.random() * 2000,
                    easing: 'cubic-bezier(0.25, 0.46, 0.45, 0.94)'
                });
                
                animation.onfinish = () => {
                    if (document.body.contains(confetti)) {
                        document.body.removeChild(confetti);
                    }
                };
            }
        }

        // Data Management
        function saveData() {
            const data = {
                bookmarkedPandals: Array.from(bookmarkedPandals),
                visitedPandals: Array.from(visitedPandals),
                routeProgress: routeProgress,
                userLocation: userLocation
            };
            localStorage.setItem('pujaAppData', JSON.stringify(data));
        }

        function loadSavedData() {
            try {
                const data = JSON.parse(localStorage.getItem('pujaAppData') || '{}');
                bookmarkedPandals = new Set(data.bookmarkedPandals || []);
                visitedPandals = new Set(data.visitedPandals || []);
                routeProgress = data.routeProgress || 0;
                userLocation = data.userLocation || null;
            } catch (e) {
                console.log('No saved data found');
            }
        }

        function saveSettings() {
            const settings = {
                language: currentLanguage,
                theme: currentTheme
            };
            localStorage.setItem('pujaAppSettings', JSON.stringify(settings));
        }

        function loadSettings() {
            try {
                const settings = JSON.parse(localStorage.getItem('pujaAppSettings') || '{}');
                
                if (settings.language) {
                    currentLanguage = settings.language;
                    document.getElementById('langText').textContent = currentLanguage === 'en' ? '‡¶¨‡¶æ‡¶Ç' : 'ENG';
                }
                
                if (settings.theme) {
                    currentTheme = settings.theme;
                    document.body.setAttribute('data-theme', currentTheme);
                    document.getElementById('themeIcon').className = currentTheme === 'light' ? 'fas fa-moon' : 'fas fa-sun';
                }
            } catch (e) {
                console.log('No settings found');
            }
        }

        // Hide preloader and initialize app
        window.addEventListener('load', function() {
            setTimeout(function() {
                document.getElementById('preloader').classList.add('hide');
            }, 5000);
            
            // Initialize app after preloader
            setTimeout(init, 5500);
        });

        // Add some additional CSS animations
        const style = document.createElement('style');
        style.textContent = `
            .toast {
                animation: slideInFromRight 0.3s ease;
            }
            
            @keyframes slideInFromRight {
                from { transform: translateX(100%); }
                to { transform: translateX(0); }
            }
            
            .pandal-card {
                transition: all 0.3s ease;
            }
            
            .pandal-card:hover {
                transform: translateY(-2px);
            }
        `;
        document.head.appendChild(style);
    </script>
</body>
</html>